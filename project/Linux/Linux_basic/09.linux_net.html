<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.36" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://ryukarin.github.io/blog/blog/project/Linux/Linux_basic/09.linux_net.html"><meta property="og:site_name" content="KARIN"><meta property="og:title" content="linux常用网络命令"><meta property="og:type" content="article"><meta property="og:image" content="https://ryukarin.github.io/blog/blog/"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="linux常用网络命令"><meta property="article:tag" content="linux"><meta property="article:published_time" content="2021-05-06T00:00:00.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><title>linux常用网络命令 | KARIN</title><meta name="description" content="KARIN的学习笔记">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/blog/assets/style.5f3eb3a7.css">
    <link rel="modulepreload" href="/blog/assets/app.893f8b81.js"><link rel="modulepreload" href="/blog/assets/09.linux_net.html.d1fe8013.js"><link rel="modulepreload" href="/blog/assets/09.linux_net.html.9ff16b8d.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/blog/" class="home-link"><img class="logo" src="/blog/logo.png" alt="KARIN"><!----><span class="site-name hide-in-pad">KARIN</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link" arialabel="博客主页"><i class="icon iconfont icon-home"></i>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/project.html" class="nav-link" arialabel="项目总览"><i class="icon iconfont icon-folder"></i>项目总览<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/IT" class="nav-link" arialabel="知识要点"><i class="icon iconfont icon-edit"></i>知识要点<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/operate" class="nav-link" arialabel="捣鼓折腾"><i class="icon iconfont icon-operate"></i>捣鼓折腾<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="linux"><span class="title"><i class="icon iconfont icon-linux"></i>linux</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/project/Linux/Linux_basic" class="nav-link active" arialabel="linux基础知识"><i class="icon iconfont icon-linux"></i>linux基础知识<!----></a></li><li class="dropdown-item"><a href="/blog/project/Linux/Linux_manage" class="nav-link" arialabel="linux系统管理"><i class="icon iconfont icon-linux"></i>linux系统管理<!----></a></li><li class="dropdown-item"><a href="/blog/project/Linux/Linux_mix" class="nav-link" arialabel="linux大杂烩"><i class="icon iconfont icon-linux"></i>linux大杂烩<!----></a></li><li class="dropdown-item"><a href="/blog/project/Linux/Shell" class="nav-link" arialabel="shell脚本笔记"><i class="icon iconfont icon-shell"></i>shell脚本笔记<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/blog/project/Git" class="nav-link" arialabel="Git笔记"><i class="icon iconfont icon-hot"></i>Git笔记<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/project/Excel" class="nav-link" arialabel="Excel修炼秘籍"><i class="icon iconfont icon-table"></i>Excel修炼秘籍<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/Ryukarin/blog" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" arialabelledby="outlook"><title id="outlook" lang="en">outlook icon</title><g fill="currentColor"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></g></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索文档" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/blog/" class="nav-link sidebar-link sidebar-page" arialabel="博客主页"><i class="icon iconfont icon-home"></i>博客主页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project.html" class="nav-link sidebar-link sidebar-page" arialabel="项目总览"><i class="icon iconfont icon-folder"></i>项目总览<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-edit"></i><span class="title">知识要点</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-operate"></i><span class="title">捣鼓折腾</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><i class="icon iconfont icon-linux"></i><span class="title">Linux</span><span class="arrow down"></span></button><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><i class="icon iconfont icon-blog"></i><span class="title">Linux基础知识</span><span class="arrow down"></span></button><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/blog/project/Linux/Linux_basic/" class="nav-link sidebar-link sidebar-page" arialabel="linux介绍"><!---->linux介绍<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/01.linux_atten.html" class="nav-link sidebar-link sidebar-page" arialabel="linux的管理建议"><!---->linux的管理建议<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/02.linux_dir.html" class="nav-link sidebar-link sidebar-page" arialabel="linux文件系统结构"><!---->linux文件系统结构<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/03.linux_basic.html" class="nav-link sidebar-link sidebar-page" arialabel="linux基本操作命令"><!---->linux基本操作命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/04.linux_authority.html" class="nav-link sidebar-link sidebar-page" arialabel="linux权限管理命令"><!---->linux权限管理命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/05.linux_help.html" class="nav-link sidebar-link sidebar-page" arialabel="linux帮助命令"><!---->linux帮助命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/06.linux_search.html" class="nav-link sidebar-link sidebar-page" arialabel="linux搜索命令"><!---->linux搜索命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/07.linux_compress.html" class="nav-link sidebar-link sidebar-page" arialabel="linux压缩、解压缩命令"><!---->linux压缩、解压缩命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/08.linux_shutdown_reboot.html" class="nav-link sidebar-link sidebar-page" arialabel="linux关机和重启命令"><!---->linux关机和重启命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="linux常用网络命令"><!---->linux常用网络命令<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#配置-linux-的-ip-地址" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="配置 Linux 的 IP 地址"><!---->配置 Linux 的 IP 地址<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#setup-命令配置网卡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="setup 命令配置网卡"><!---->setup 命令配置网卡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#手工配置网卡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="手工配置网卡"><!---->手工配置网卡<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#ifconfig-命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="ifconfig 命令"><!---->ifconfig 命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#ifup-和-ifdown-命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="ifup 和 ifdown 命令"><!---->ifup 和 ifdown 命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#ping-命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="ping 命令"><!---->ping 命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#natstat-命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="natstat 命令"><!---->natstat 命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#write-命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="write 命令"><!---->write 命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#wall-命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="wall 命令"><!---->wall 命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#mail-命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="mail 命令"><!---->mail 命令<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html" class="nav-link sidebar-link sidebar-page" arialabel="linux文本编辑器"><!---->linux文本编辑器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/11.linux_soft_install.html" class="nav-link sidebar-link sidebar-page" arialabel="linux软件安装"><!---->linux软件安装<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/12.linux_user_group.html" class="nav-link sidebar-link sidebar-page" arialabel="linux用户和用户组管理"><!---->linux用户和用户组管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/13.linux_other_auth.html" class="nav-link sidebar-link sidebar-page" arialabel="linux其他权限管理命令"><!---->linux其他权限管理命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/14.linux_filesystem_manage.html" class="nav-link sidebar-link sidebar-page" arialabel="linux文件系统管理"><!---->linux文件系统管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-blog"></i><span class="title">Linux系统管理</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-blog"></i><span class="title">Linux大杂烩</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-shell"></i><span class="title">Shell脚本笔记</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-hot"></i><span class="title">Docker笔记</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-git"></i><span class="title">Git笔记</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-table"></i><span class="title">Excel修炼秘籍</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->linux常用网络命令</h1><div class="article-info"><span class="author-info" arialabel="作者🖊" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://ryukarin.github.io/blog/" target="_blank" rel="noopener noreferrer">karin</a></span><span property="author" content="karin"></span></span><!----><span class="date-info" arialabel="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2021年5月6日</span><meta property="datePublished" content="2021-05-06T00:00:00.000Z"></span><span class="category-info" arialabel="分类🌈" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category category8 clickable" role="navigation">笔记</li><meta property="articleSection" content="笔记"></ul></span><span arialabel="标签🏷" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag tag6 clickable" role="navigation">linux</li></ul><meta property="keywords" content="linux"></span><span class="reading-time-info" arialabel="阅读时间⌛" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" arialabelledby="timer"><title id="timer" lang="en">timer icon</title><g fill="currentColor"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></g></svg><span>大约 17 分钟</span><meta property="timeRequired" content="PT17M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#配置-linux-的-ip-地址" class="router-link-active router-link-exact-active toc-link level2">配置 Linux 的 IP 地址</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#setup-命令配置网卡" class="router-link-active router-link-exact-active toc-link level3">setup 命令配置网卡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#手工配置网卡" class="router-link-active router-link-exact-active toc-link level3">手工配置网卡</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#ifconfig-命令" class="router-link-active router-link-exact-active toc-link level2">ifconfig 命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#ifup-和-ifdown-命令" class="router-link-active router-link-exact-active toc-link level2">ifup 和 ifdown 命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#ping-命令" class="router-link-active router-link-exact-active toc-link level2">ping 命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#natstat-命令" class="router-link-active router-link-exact-active toc-link level2">natstat 命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#write-命令" class="router-link-active router-link-exact-active toc-link level2">write 命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#wall-命令" class="router-link-active router-link-exact-active toc-link level2">wall 命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/09.linux_net.html#mail-命令" class="router-link-active router-link-exact-active toc-link level2">mail 命令</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><p>我们在做练习的时候，需要让 Linux 进行联网配置。介绍一下如何给 Linux 配置 IP 地址，以及一些常用的网络命令。</p><h2 id="配置-linux-的-ip-地址" tabindex="-1"><a class="header-anchor" href="#配置-linux-的-ip-地址" aria-hidden="true">#</a> 配置 Linux 的 IP 地址</h2><p>IP 地址是计算机在互联网中唯一的地址编码。每台计算机如果需要接入网络和其他计算机进行数据通信，就必须配置唯一的公网 IP 地址。</p><h3 id="setup-命令配置网卡" tabindex="-1"><a class="header-anchor" href="#setup-命令配置网卡" aria-hidden="true">#</a> setup 命令配置网卡</h3><p>Linux 当然也需要配置 IP 地址才可以正常使用网络。其实 Linux 主要是通过修改网卡配置文件来永久修改 IP 地址的。<code>setup</code> 是一个简化命令，是 Red Hat 系列专有的命令，其他的 Linux 系列不一定有此命令。<code>setup</code> 命令会开启一个图形化的配置工具，如图10-1 所示。</p><p>这是一个综合工具，既可以配置 IP 地址，也可以管理防火墙和系统服务。如果我们需要配置 IP 地址，则只要选择“Network configuration”就会开始 IP 地址配置。</p><div class="custom-container center"><p><img src="/blog/assets/setup1.2f63ea42.png" alt="setup1" loading="lazy"></p><p><strong>图10-1 <u>配置工具界面</u></strong></p></div><p>接下来就可以执行动作选择了。我们要配置 IP 地址，就选择“Decive configuration”，如图10-2 所示。</p><div class="custom-container center"><p><img src="/blog/assets/setup2.7ae67ff5.png" alt="setup2" loading="lazy"></p><p><strong>图10-2 <u>选择动作</u></strong></p></div><p>在 CentOS 6.x 中，网卡的设备文件名用 eth0 来表示第一块网卡，如果有第二块网卡，则设备文件名会依次为 eth1。在这里，我们的 Linux 只有一块网卡，所以在选择设备时只需选择 eth0 网卡配置即可，如图10-3 所示。</p><div class="custom-container center"><p><img src="/blog/assets/setup3.fdddbc72.png" alt="setup3" loading="lazy"></p><p><strong>图10-3 <u>选择设备</u></strong></p></div><p>接下来就会进入网络配置界面，如图10-4 所示。这时如果在“Use DHCP”选项上输入 “*”号（空格输入）。就会自动获取 IP 地址：取消“*”号，就会手工分配 IP 地址。</p><div class="custom-container center"><p><img src="/blog/assets/setup4.78653e35.png" alt="setup4" loading="lazy"></p><p><strong>图10-4 <u>网络配置</u></strong></p></div><p>输入正确的 IP 地址后，使用 Tab 键切換至“OK”按钮上，接下来一路保存退出，IP 地址就输入完成了。但是，如果想让 IP 地址配置生效，则还需要重启网络服务。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># service network restart</span>
<span class="token comment">#重启网络服务</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当然，重启网络服务有很多种方法，这里直接使用 <code>service</code> 命令进行网络服务重启。</p><div class="custom-container tip"><p class="custom-container-title">补充</p><p>CentOS 7.x 及以上版本的的 <code>setup</code> 命令没有网络配置“Decive configuration”选项了，但是可以用 <code>nmtui</code> 命令配置网络，同样也是图形化配置工具。</p></div><h3 id="手工配置网卡" tabindex="-1"><a class="header-anchor" href="#手工配置网卡" aria-hidden="true">#</a> 手工配置网卡</h3><p>手工开启网卡 在 CentOS 5x 以前的系统中，通过 <code>setup</code> 配置 IP 地址，重启后，IP地址就可以配置成功。但如果是在 CenOS 6.x 中，那么重启后可能依然无法找到 eth0 网卡，而只能看到 lo（本地回环）网卡。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span> ifcontig
lo		Link encap:Local Loopback
inet adar:127.0.0.1 Mask:256.0.0.0
inet6 addr: ::1/128 Scope:Hoat
		UP LOOPBACK RUNNING MTU:16436 Metric:1
		RX packets:12 errors:0 dropped:0 qverruns:0 frame:0
        TX packets:12 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:0 
        RX bytes:840 <span class="token punctuation">(</span><span class="token number">840.0</span> b<span class="token punctuation">)</span> TX bytes:840 <span class="token punctuation">(</span><span class="token number">840.0</span> b<span class="token punctuation">)</span> 
<span class="token comment">#只有lo网卡，没有eth0网卡</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这是因为，在 CentOS 6.x 中，eth0 网卡是默认没有开启的，需要修改网卡配置文件手工开启。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@1ocalhost ~<span class="token punctuation">]</span><span class="token comment"># vi /etc/sysconfig/network-scripts/ifcfg-eth0</span>
<span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span>none
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span>no
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>dhcp
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span>stable-privacy
<span class="token assign-left variable">NAME</span><span class="token operator">=</span>ens3
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>c3c79e29-8228-4e7a-a39a-f54599644675
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eth0
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
<span class="token comment">#在网卡配置文件中，ONBOOT默认是 no</span>
<span class="token punctuation">[</span>root@1ocalhost ~<span class="token punctuation">]</span><span class="token comment"># service network restart</span>
Restarting network <span class="token punctuation">(</span>via systemctl<span class="token punctuation">)</span>:                        <span class="token punctuation">[</span>  OK  <span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@1ocalhost ~<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>手工把 ONBOOT 选项改为 yes，然后再重启网络服务（<code>service network restart</code>），就会发现 eth0 网卡启动了，IP 地址也可以正常使用了。</p><div class="custom-container tip"><p class="custom-container-title">补充</p><p>Debain/Ubuntu 系统的网络配置：<code>/etc/network/interfaces</code></p><ol><li>打开 ubuntu 的 <code>/etc/network/interfaces</code> 文件</li></ol><p>默认的内容如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cat</span> /etc/network/interfaces
auto lo
iface lo inet loopback
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在文件中添加如下信息：（动态或者静态，二选一）</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 1. 动态获取的配置方法：</span>
auto eth0
iface eth0 inet dhcp

<span class="token comment"># 2. 静态分配的配置方法：</span>
auto eth0
iface eth0 inet static
address <span class="token number">192.168</span>.2.6
netmask <span class="token number">255.255</span>.255.0
gateway <span class="token number">192.168</span>.2.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="2"><li>添加域名服务器（DNS）：</li></ol><p>打开 <code>/etc/resolv.conf</code> 文件，添加如下内容。DNS 写自己常用的就可以了。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>nameserver <span class="token number">114.114</span>.114.114
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>重启下网络</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ /etc/init.d/networking restart
<span class="token comment">#这条命令是重启网卡</span>
或者
$ <span class="token function">ifdown</span> eth0
$ <span class="token function">ifup</span> eth0
<span class="token comment">#这两条命令是有针对性的重启某个网络接口，因为一个系统可能有多个网络接口</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>以上配置好之后， <code>ifconfig</code> 查看下配置是否成功，<code>ping</code> 一下，验证网络是否通了。</p><blockquote><p>Ubuntu 16.04 之后的版本，启用了新的网络工具 netplan，命令行配置网络参数跟之前的版本有比较大的差别，其网卡配置文件为：<code>/etc/netplan/01-network-manager-all.yaml</code>，netplan 描述文件采用了 yaml 语法，默认是用 dhcp方式，如果要配置静态地址，则需要修改此文件的想关内容。</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 1. 默认配置为 DHCP 方式：</span>
<span class="token comment">#注意行缩进</span>
root@ubuntu:~<span class="token comment"># vim /etc/netplan/01-network-manager-all.yaml</span>
network:
 version: <span class="token number">2</span>
 ethernets:
     eth0:
         dhcp4: <span class="token boolean">true</span>
         match:
             macaddress: <span class="token number">52</span>:54:00:d4:51:ad
         set-name: eth0
         
<span class="token comment"># 2. 配置静态 IP 地址：</span>
<span class="token comment">#注意行缩进</span>
root@ubuntu:~<span class="token comment"># grep -v ^# /etc/netplan/01-network-manager-all.yaml</span>
network:
 version: <span class="token number">2</span>
 ethernets:
     eth0:
         addresses: <span class="token punctuation">[</span><span class="token number">192.168</span>.120.18/24<span class="token punctuation">]</span>
         gateway4: <span class="token number">192.168</span>.120.1
         nameservers:
                 addresses: <span class="token punctuation">[</span><span class="token number">183.60</span>.83.19,183.60.82.98<span class="token punctuation">]</span>
               
<span class="token comment"># 更新配置生效  </span>
root@ubuntu:~<span class="token comment"># sudo netplan apply</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></div><h2 id="ifconfig-命令" tabindex="-1"><a class="header-anchor" href="#ifconfig-命令" aria-hidden="true">#</a> ifconfig 命令</h2><p><code>ifconfig</code> 命令，是 Linux 中查看和临时修改 IP 地址的命令。</p><ol><li><strong>查看 IP 地址信息</strong></li></ol><p><code>ifconfig</code> 命令最主要的作用就是查看 IP 地址的信息，直接输入 <code>ifconfig</code> 命令即可。</p><p>英文原意：configure a network interface</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ifconfig</span>
eth0	Link encap:Ethernet HWaddr 00:0C:29:C5:FB:AA
<span class="token comment">#eth0网卡信息 网络类型为以太网	MAC 地址</span>
inet addr:192.168.44.3 Bcast:192.168.44.255 Mask:255.255.255.0
<span class="token comment">#IP地址 				  广播地址 				子网掩码</span>
inet6 addr：fe80::20c:29ff:fec5:fbaa/64 Scope:Link
<span class="token comment">#IPv6的地址（目前不生效）</span>
		UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
		<span class="token comment">#网络参数 					   最大传输单元  数据包转送次数</span>
		RX packets:881 errors:0 dropped:O overruns:0 frame:0
		<span class="token comment">#接收到的数据包情况</span>
		TX packets:853 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000
        <span class="token comment">#发送的数据包情况         								  数据包碰撞		数据缓冲区长度</span>
        RX bytes:82229 （80.3 KiB<span class="token punctuation">)</span> TX bytes:273463 （267.0 KiB）
        <span class="token comment">#接收包的大小 发送包的大小</span>
        Interrupt:19 Base address:0x2000
        <span class="token comment">#TRQ中断 			 内存地址</span>
        
lo 		Link encap:Local Loopback
<span class="token comment">#本地回环网卡信息</span>
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope:Host
		UP LOOPBACK RUNNING MTU:16436 Metric:1
        RX packets:12 errors:0 dropped:0 overruns:0 frame:0
        TX packets:12 errors:O dropped:O overruns:0 carrier:0 collisions:0 txqueuelen:0
        RX bytes:840 <span class="token punctuation">(</span><span class="token number">840.0</span> b<span class="token punctuation">)</span> TX bytes:840 <span class="token punctuation">(</span><span class="token number">840.0</span> b<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><code>ifconfig</code> 命令主要用于查看 <strong>IP 地址、子网掩码</strong> 和 <strong>MAC地址</strong>这三类信息，其他信息我们有所了解即可。</p><p>lo 网卡是 Loopback 的缩写，也就是本地回环网卡，这个网卡的 IP 地址是 <strong>127.0.0.1</strong>。它只代表我们的网络协议正常，就算不插入网线也可以 <code>ping</code> 通，所以基本没有实际使用价值，大家了解一下即可。</p><ol start="2"><li><strong>临时配置 IP 地址</strong></li></ol><p><code>ifconfig</code> 命令除可以查看 IP 地址之外，还可以临时配置 IP 地址，但是一旦重启，IP 地址就会失效，所以我们还是应该使用 <code>setup</code> 命令来进行 IP 地址配置。</p><p>使用 <code>ifconfig</code> 命令临时配置 IP 地址的示例如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#ifconfig eth0 192.168.44.3</span>
<span class="token comment">#配置 IP地址，不指定子网掩码就会使用标准子网掩码</span>
<span class="token punctuation">[</span>rootelocalhost -<span class="token punctuation">]</span><span class="token comment">#ifconfig eth0 192.168.44.3 netmask 255.255.255。0</span>
<span class="token comment">#配置 IP地址，同时配置子网掩码</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="ifup-和-ifdown-命令" tabindex="-1"><a class="header-anchor" href="#ifup-和-ifdown-命令" aria-hidden="true">#</a> ifup 和 ifdown 命令</h2><p><code>ifup</code> 和 <code>ifdown</code> 是两个非常简单的命令，其作用类似于 Windows 中的启用和禁用网卡，主要用于启用和关闭网卡。</p><p>英文原意：bring a network interface up <strong>&amp;</strong> take a network interface down</p><p>命令格式如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ifdown 网卡设备名</span>
<span class="token comment">#例子：</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ifdown eth0</span>
<span class="token comment">#关闭 eth0 网卡</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ifup eth0</span>
<span class="token comment">#启用 eth0 网卡</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="ping-命令" tabindex="-1"><a class="header-anchor" href="#ping-命令" aria-hidden="true">#</a> ping 命令</h2><p><code>ping</code> 是常用的网络命令，主要通过 ICMP 协议进行网络探测，测试网络中主机的通信情况。</p><p>英文原意：send ICMP ECHO_REQUEST to network hosts</p><p>命令格式如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ping [选项] IP</span>
选项：
	-b		：后面加入广播地址，用于对整个网段进行探测
    -c 次数	：用于指定 <span class="token function">ping</span> 的次数
    -s 字节	：指定探测包的大小 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol><li><strong>探测与指定主机通信</strong></li></ol><p>直接输入 <code>ping IP地址</code> 即可，例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ping 192.168.103.151</span>
PING <span class="token number">192.168</span>.103.151 <span class="token punctuation">(</span><span class="token number">192.168</span>.103.151<span class="token punctuation">)</span> <span class="token number">56</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span> bytes of data.
<span class="token number">64</span> bytes from <span class="token number">192.168</span>.103.151: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">tt1</span><span class="token operator">=</span><span class="token number">128</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.300</span> ms
<span class="token number">64</span> bytes from <span class="token number">192.168</span>.103.151: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">128</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.481</span> ms
<span class="token punctuation">..</span>.省略部分内容<span class="token punctuation">..</span><span class="token punctuation">..</span> 
<span class="token comment">#探测与指定主机是否通信</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Linux 是一个比较实在的操作系统，这个 <code>ping</code> 命令如果不使用 <kbd>Ctrl</kbd>+<kbd>C</kbd> 快捷键强行中止， 就会一直 <code>ping</code> 下去，直到天荒地老……</p><ol start="2"><li><strong>指定 ping 的次数</strong></li></ol><p>既然 <code>ping</code> 这么“实在”，如果不想一直 <code>ping</code> 下去，则可以使用“-c”选项指定 ping 的次数。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ping -c 3 192.168.103.151</span>
 <span class="token comment">#只探测3次，就中止 ping 命令</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li><strong>探测网段中的可用主机</strong></li></ol><p>在 <code>ping</code> 命令中，可以使用“-b”选项，后面加入广播地址，探测整个网段。我们可以使 用这个选项知道整个网络中有多少主机是可以和我们通信的，而不用一个一个 IP 地址地进行探测。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ping -b -c 3 192.168.103.255</span>
WARNING：pinging broadcast address
PING <span class="token number">192.168</span>.103.255 <span class="token punctuation">(</span><span class="token number">192.168</span>.103.255<span class="token punctuation">)</span> <span class="token number">56</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span> bytes of data.
<span class="token number">64</span> bytes from <span class="token number">192.168</span>.103.199:icmp_seq<span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">1.95</span> ms
<span class="token number">64</span> bytes from <span class="token number">192.168</span>.103.168:icmp_seq<span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">1.97</span> ms
<span class="token number">64</span> bytes from <span class="token number">192.168</span>.103.252:icmp_seq<span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">2.29</span> ms
<span class="token punctuation">..</span>.省略部分内容<span class="token punctuation">..</span>.
<span class="token comment">#探测 192.168.103.0/24 网段中有多少可以通信的主机</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="natstat-命令" tabindex="-1"><a class="header-anchor" href="#natstat-命令" aria-hidden="true">#</a> natstat 命令</h2><blockquote><p>说道这个命令，就不得不提以下端口的作用。</p><p>我们要先简单了解一下端口的作用。在互联网中，如果 IP 地址是服务器在互联网中唯一的地址标识，那么大家可以想象一下：我有一台服务器，它有固定的公网 IP 地址，通过 IP 地址可以找到我的服务器。但是我的服务器中既启动了网页服务（Web 服务），又启动了文件传输服务（FTP 服务），那么你的客户端访问我的服务器，到底应该如何确定你访问的是哪一个服务呢？</p><p>端口就是用于网络通信的接口，是数据从传输层向上传递到应用层的数据通道。我们可以理解为每个常规服务都有默认的端口号，通过不同的端口号，我们就可以确定不同的服务。也就是说，客户端通过 IP 地址访问到我的服务器，如果数据包访问的是 80 端口，则访问的是 Web 服务；而如果数据包访问的是 21 端口，则访问的是 FTP 服务。</p><p>我们可以简单地理解为每个常规服务都有一个默认端口（默认端口可以修改)，这个端口是所有人都知道的，客户端可以通过固定的端口访问指定的服务。而我们通过在服务器中查看已经开启的端口号，就可以判断服务器中开启了哪些服务。</p></blockquote><p><code>netstat</code> 命令，是网络状态查看命令，既可以查看到本机开启的端口，也可以查看有哪些客户端连接。</p><p>英文原意：Print network connections, routing tables, interface statis‐tics, masquerade connections, and multicast memberships</p><p>命令格式如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># netstat [选项]</span>
选项：
	-a		：列出所有网络状态，包括 Socket 程序
	-c 秒数	：指定每隔几秒刷新一次网络状态
	-n		：使用 IP 地址和端口号显示，不使用域名与服务名
	-p		：显示 PID 和程序名
	-t		：显示使用 TCP 协议端口的连接状况
	-u		：显示使用 UDP 协议端口的连接状况
	-l		：仅显示监听状态的连接
	-r		：显示路由表
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol><li><strong>查看本机开启的端口</strong></li></ol><p>这是本机最常用的方式，使用选项“-tuln”。因为使用了”-l“项，所以只能看到监听状态的连接，而不能看到已经建立连接状态的连接。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># netstat -tuln</span>
Active Internet connections <span class="token punctuation">(</span>only servers<span class="token punctuation">)</span>
Prota  Recv-Q  Send-Q	Local Address		Foreign Address		State
tcp			<span class="token number">0</span>		<span class="token number">0</span> 	<span class="token number">0.0</span>.0.0:3306		<span class="token number">0.0</span>.0.0:*			LISTEN
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:11211		<span class="token number">0.0</span>.0.0:*			LISTEN
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:22			<span class="token number">0.0</span>.0.0:*			LISTEN
tcp			<span class="token number">0</span>		<span class="token number">0</span>	:::11211			:::*				LISTEN
tcp			<span class="token number">0</span>		<span class="token number">0</span>	:::80				:::*				LISTEN
tcp			<span class="token number">0</span>		<span class="token number">0</span>	:::22				:::*				LISTEN
udp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:11211		<span class="token number">0.0</span>.0.0:*			
udp			<span class="token number">0</span>		<span class="token number">0</span>	:::11211			:::*				
<span class="token comment">#协议  接收队列  发巡队列  本机的IP及端口号		 远程主机的IP地扯及端口号  状态</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>这个命令的输出较多。</p><blockquote><ul><li>Proto：网络连接的协议，一般就是 TCP 协议或者 UDP 协议。</li><li>Reev-Q：表示接收到的数据，已经在本地的缓冲中，但是还没有被进程取走。</li><li>Send-Q：表示从本机发送，对方还没有收到的数据，依然在本地的缓冲中，一般是不具备 ACK 标志的数据包。</li><li>Local Address：本机的 IP 地址和端口号。</li><li>Foreign Address：远程主机的 IP 地址和端口号。</li><li>State：状态。常见的状态主要有以下几种。 <ul><li>LISTEN：监听状态，只有 TCP 协议需要监听，而 UDP 协议不需要监听。</li><li>ESTABLISHED：已经建立连接的状态。如果使用“-l”选项，则看不到已经建立连接的状态。</li><li>SYN_SENT：SYN 发起包，就是主动发起连接的数据包。</li><li>SYN_RECV：接收到主动连接的数据包。</li><li>FIN_WAIT1：正在中断的连接。</li><li>FIN_WAIT2：已经中断的连接，但是正在等待对方主机进行确认。</li><li>TIME_WAIT：连接已经中断，但是套接字依然在网络中等待结束。</li><li>CLOSED：套接字没有被使用。</li></ul></li></ul></blockquote><p>在这些状态中，我们最常用的就是 LISTEN 和 ESTABLISHED 状态，一种代表正在监听，另一种代表已经建立连接。</p><ol start="2"><li><strong>查看本机有哪些程序开启的端口</strong></li></ol><p>如果使用“-p”选项，则可以查看到是哪个程序占用了端口，并且可以知道这个程序的 PID。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># netstat -tulnp</span>
Active Internet connections <span class="token punctuation">(</span>only servers<span class="token punctuation">)</span>
Prota  Recv-Q  Send-Q	Local Address		Foreign Address		State		PID/Program name
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:3306		<span class="token number">0.0</span>.0.0:*			LISTEN		<span class="token number">2359</span>/mysqld
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:11211		<span class="token number">0.0</span>.0.0:*			LISTEN		<span class="token number">1563</span>/memcached
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:22			<span class="token number">0.0</span>.0.0:*			LISTEN		<span class="token number">1490</span>/sshd
tcp			<span class="token number">0</span>		<span class="token number">0</span>	:::11211			:::*				LISTEN		<span class="token number">1563</span>/memcached
tcp			<span class="token number">0</span>		<span class="token number">0</span>	:::80				:::*				LISTEN		<span class="token number">21025</span>/httpd
tcp			<span class="token number">0</span>		<span class="token number">0</span>	:::22				:::*				LISTEN		<span class="token number">1490</span>/sshd
udp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:11211		<span class="token number">0.0</span>.0.0:*						<span class="token number">1563</span>/memcached
udp			<span class="token number">0</span>		<span class="token number">0</span>	:::11211			:::*							<span class="token number">1563</span>/memcached
<span class="token comment">#协议  接收队列  发巡队列  本机的IP及端口号		 远程主机的IP地扯及端口号  状态		PID/程序名</span>
<span class="token comment">#比之前的命令多了一个“-p”选项，结果多了“PID/程序名”，可以知道是哪个程序占用了端口</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ol start="3"><li><strong>查看所有连接</strong></li></ol><p>查看所有连接使用选项“-an”可以查看所有连接，包括监听状态的连接（LISTEN）、已经建立连接状态的连接（ESTABLISHED）、Socket程序连接等。因为连接较多，所以输出的内容有很多。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># netstat -an</span>
Active Internet connections <span class="token punctuation">(</span>servers and established<span class="token punctuation">)</span>
Proto Recv-Q Send-Q		Local Address		Foreign Address		 State
tcp			<span class="token number">0</span>		<span class="token number">0</span> 	<span class="token number">0.0</span>.0.0:3306		<span class="token number">0.0</span>.0.0:*			 LISTEN
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:11211		<span class="token number">0.0</span>.0.0:*			 LISTEN
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">117.79</span>.130.170:80	<span class="token number">78.46</span>.174.55:58815	 SYN_RECV
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:22			<span class="token number">0.0</span>.0.0:*			 LISTEN
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">117.79</span>.130.170:22	<span class="token number">124.205</span>.129.99:10379 ESTABLISHED
tcp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">117.79</span>.130.170:22	<span class="token number">124.205</span>.129.99:11811 ESTABLISHED
<span class="token punctuation">..</span>.省略部分内容<span class="token punctuation">..</span>.
udp			<span class="token number">0</span>		<span class="token number">0</span>	<span class="token number">0.0</span>.0.0:11211		<span class="token number">0.0</span>.0.0:*			
udp			<span class="token number">0</span>		<span class="token number">0</span>	:::11211			:::*				
Active UNIX domain sockets <span class="token punctuation">(</span>servers and established<span class="token punctuation">)</span>
Proto	RefCnt	Flags	Type	state		I-Node	Path
unix	<span class="token number">2</span>		<span class="token punctuation">[</span> ACC <span class="token punctuation">]</span>	STREAM	LISTENING	<span class="token number">9761</span>	@/var/run/hald/dbus-fr41WkQn1c
<span class="token punctuation">..</span>.省略部分内容<span class="token punctuation">..</span><span class="token punctuation">..</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>从“Active UNIX domain sockets”开始，之后的内容就是 Socket 程序产生的连接，之前的内容都是网络服务产生的连接。我们可以在“-an”选项的输出中看到各种网络连接状态，而之前的“-tuln”选项则只能看到监听状态。</p><h2 id="write-命令" tabindex="-1"><a class="header-anchor" href="#write-命令" aria-hidden="true">#</a> write 命令</h2><p>在服务器上，有时会有多个用户同时登录，一些必要的沟通就显得尤为重要。比如，我必须关闭某个服务，或者需要重启服务器，当然需要通知同时登录服务器的用户，这时就可以使用 <code>write</code> 命令，向其他用户发送信息。</p><p><code>write</code> 命令，用于向指定登录用户终端上发送信息。</p><p>英文原意：send a message to another user</p><p>write 命令的基本格式如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#write 用户名 [终端号]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>write</code> 命令没有多余的选项，我们要向在某个终端登录的用户发送信息，就可以这样来执行命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># wlite userl pts/1</span>
hello
I will be <span class="token keyword">in</span> <span class="token number">5</span> minutes to restart, please save your data
<span class="token comment">#向在 pts/1（远程终端1）登录的 user1 用戶发送信息，使用“Ctrl+D”快捷键保存发送的数据</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这时，user1 用户就可以收到你要在 5 分钟之后重启系统的信息了。</p><h2 id="wall-命令" tabindex="-1"><a class="header-anchor" href="#wall-命令" aria-hidden="true">#</a> wall 命令</h2><p><code>wall</code> 命令，用于给所有登录用户发送信息，包括你自己。</p><p>英文原意：send a message to everybody&#39;s terminal.</p><p>命令格式，在 <code>wall</code> 命令后加入需要发送的信息即可，例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># wall &quot;I will be in 5 minutes to restart, please save your data&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="mail-命令" tabindex="-1"><a class="header-anchor" href="#mail-命令" aria-hidden="true">#</a> mail 命令</h2><p><code>mail</code> 是 Linux 的邮件客户端命令，可以利用这个命令给其他用户发送邮件。</p><ol><li><strong>发送邮件</strong></li></ol><p>如果我们想要给其他用户发送邮件，则可以执行如下命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mail userl</span>
Subject：hello					<span class="token operator">&lt;</span>---邮件标题
Nice to meet you<span class="token operator">!</span>				<span class="token operator">&lt;</span>---部件具体内容
<span class="token builtin class-name">.</span>								<span class="token operator">&lt;</span>---使用 “.” 来结束邮件输入
<span class="token comment">#发送邮件给 user1 用户</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>我们接收到的邮件都保存在 <code>/var/spool/mail/用户名</code> 中，每个用户都有一个以自己的用户名命名的邮箱。</p><ol start="2"><li><strong>发送文件内容</strong></li></ol><p>如果我们想把某个文件的内容发送给指定用户，则可以执行如下命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mail -s &quot;test mall&quot; root &lt; /root/anaconda-ks.cfg</span>
选项：
	-s：指定邮件标题
<span class="token comment">#把 /root/anaconda-ks.cfg 文件的内容发送给 root用户</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>我们在写脚本时，有时需要脚本自动发送一些信息给指定用户，把要发送的信息预先写到文件中，是一个非常不错的选择。</p><ol start="3"><li><strong>查看已经接收的邮件</strong></li></ol><p>我们可以直接在命令行中执行 <code>mail</code> 命令，进入 <code>mail</code> 的交互命令中，可以在这里查看已经接收到的邮件。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">)</span><span class="token comment"># mail</span>
Heirloom Mail version <span class="token number">12.4</span> <span class="token number">7</span>/29/08.Type ?for help.
<span class="token string">&quot;/var/spool/mail/root&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span> message <span class="token number">1</span> new
<span class="token operator">&gt;</span>N <span class="token number">1</span> root		Mon Dec <span class="token number">5</span> <span class="token number">22</span>:45  <span class="token number">68</span>/1777  <span class="token string">&quot;teat mall&quot;</span>		<span class="token operator">&lt;</span>---之前收到的邮件
<span class="token operator">&gt;</span>N <span class="token number">2</span> root		Mon Dec <span class="token number">5</span> <span class="token number">23</span>:08  <span class="token number">18</span>/602   <span class="token string">&quot;hello&quot;</span>
<span class="token comment">#未读 编号 发件人 时间						标题</span>

<span class="token operator">&amp;</span>		<span class="token operator">&lt;</span>---等待用户输入命令
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>可以看到已经接收到的邮件列表，“N”代表未读邮件，如果是已经阅读过的邮件，则前面是不会有这个“N”的；之后的数字是邮件的编号，我们主要通过这个编号来进行邮件的操作。如果我们想要查看第一封邮件，则只需输入邮件的编号“<code>1</code>”就可以了。</p><p>在交互命令中执行“<code>?</code>”，可以查看这个交互界面支持的命令。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ ?		<span class="token operator">&lt;</span>-输入 ? 命令
               mail commands
<span class="token builtin class-name">type</span> <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span>             <span class="token builtin class-name">type</span> messages
next                            goto and <span class="token builtin class-name">type</span> next message
from <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span>             give <span class="token function">head</span> lines of messages
headers                         print out active message headers
delete <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span>           delete messages
undelete <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span>         undelete messages
save <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span> folder      append messages to folder and mark as saved
copy <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span> folder      append messages to folder without marking them
<span class="token function">write</span> <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span> <span class="token function">file</span>       append message texts to file, save attachments
preserve <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span>         keep incoming messages <span class="token keyword">in</span> mailbox even <span class="token keyword">if</span> saved
Reply <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span>            reply to message senders
reply <span class="token operator">&lt;</span>message list<span class="token operator">&gt;</span>            reply to message senders and all recipients
mail addresses                  mail to specific recipients
<span class="token function">file</span> folder                     change to another folder
quit                            quit and apply changes to folder
xit                             quit and discard changes made to folder
<span class="token operator">!</span>                               shell escape
<span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>directory<span class="token operator">&gt;</span>                  chdir to directory or home <span class="token keyword">if</span> none given
list                            list names of all available commands
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>这些交互命令是可以简化输入的，比如 <code>headers</code> 命令，就可以直接输入 <code>h</code>，这是列出邮件标遇列表的命令。我们解释一下常用的交互命令。</p><ul><li>headers：列出邮件标题列表，直接输入 <code>h</code> 命令即可。</li><li>delete：删除指定邮件。比如想要删除第二封邮件，可以输入 <code>d2</code>。</li><li>save：保存邮件。可以把指定邮件保存成文件，如 <code>s2 /tmp/tcst.mail</code>。</li><li>quit：退出，并把已经操作过的邮件进行保存。比如移除已删除邮件、保存已阅读邮件等。</li><li>exit：退出，但是不保存任何操作。</li></ul><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Ryukarin/blog/edit/main/project/Linux/Linux_basic/09.linux_net.md" rel="noopener noreferrer" target="_blank" arialabel="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><nav class="page-nav"><a href="/blog/project/Linux/Linux_basic/08.linux_shutdown_reboot.html" class="nav-link prev" arialabel="linux关机和重启命令"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->linux关机和重启命令</div></a><a href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html" class="nav-link next" arialabel="linux文本编辑器"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">linux文本编辑器<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><!----></div><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">MIT Licensed</div><div class="copyright">Copyright © 2022 karin</div></footer></div><!--]--><!----><!--[--><!-- Root element of PhotoSwipe. Must have class pswp. --><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><!-- Background of PhotoSwipe. 
    It’s a separate element, as animating opacity is faster than rgba().--><div class="pswp__bg"></div><!-- Slides wrapper with overflow:hidden. --><div class="pswp__scroll-wrap"><!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. --><div class="pswp__container"><!-- don’t modify these 3 pswp__item elements, data is added later on --><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><!--  Controls are self-explanatory. Order can be changed. --><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="关闭"></button><button class="pswp__button pswp__button--share" title="分享"></button><button class="pswp__button pswp__button--fs" title="切换全屏"></button><button class="pswp__button pswp__button--zoom" title="缩放"></button><!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="上一个 (左箭头)"></button><button class="pswp__button pswp__button--arrow--right" title="下一个 (右箭头)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!--]--><!--]--></div>
    <script type="module" src="/blog/assets/app.893f8b81.js" defer></script>
  </body>
</html>
