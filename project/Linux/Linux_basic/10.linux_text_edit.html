<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.36" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://ryukarin.github.io/blog/blog/project/Linux/Linux_basic/10.linux_text_edit.html"><meta property="og:site_name" content="KARIN"><meta property="og:title" content="linux文本编辑器"><meta property="og:type" content="article"><meta property="og:image" content="https://ryukarin.github.io/blog/blog/"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="linux文本编辑器"><meta property="article:tag" content="linux"><meta property="article:published_time" content="2021-05-06T00:00:00.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><title>linux文本编辑器 | KARIN</title><meta name="description" content="KARIN的学习笔记">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/blog/assets/style.5f3eb3a7.css">
    <link rel="modulepreload" href="/blog/assets/app.893f8b81.js"><link rel="modulepreload" href="/blog/assets/10.linux_text_edit.html.a6825168.js"><link rel="modulepreload" href="/blog/assets/10.linux_text_edit.html.f6e2ebeb.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/blog/" class="home-link"><img class="logo" src="/blog/logo.png" alt="KARIN"><!----><span class="site-name hide-in-pad">KARIN</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link" arialabel="博客主页"><i class="icon iconfont icon-home"></i>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/project.html" class="nav-link" arialabel="项目总览"><i class="icon iconfont icon-folder"></i>项目总览<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/IT" class="nav-link" arialabel="知识要点"><i class="icon iconfont icon-edit"></i>知识要点<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/operate" class="nav-link" arialabel="捣鼓折腾"><i class="icon iconfont icon-operate"></i>捣鼓折腾<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="linux"><span class="title"><i class="icon iconfont icon-linux"></i>linux</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/project/Linux/Linux_basic" class="nav-link active" arialabel="linux基础知识"><i class="icon iconfont icon-linux"></i>linux基础知识<!----></a></li><li class="dropdown-item"><a href="/blog/project/Linux/Linux_manage" class="nav-link" arialabel="linux系统管理"><i class="icon iconfont icon-linux"></i>linux系统管理<!----></a></li><li class="dropdown-item"><a href="/blog/project/Linux/Linux_mix" class="nav-link" arialabel="linux大杂烩"><i class="icon iconfont icon-linux"></i>linux大杂烩<!----></a></li><li class="dropdown-item"><a href="/blog/project/Linux/Shell" class="nav-link" arialabel="shell脚本笔记"><i class="icon iconfont icon-shell"></i>shell脚本笔记<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/blog/project/Git" class="nav-link" arialabel="Git笔记"><i class="icon iconfont icon-hot"></i>Git笔记<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/project/Excel" class="nav-link" arialabel="Excel修炼秘籍"><i class="icon iconfont icon-table"></i>Excel修炼秘籍<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/Ryukarin/blog" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" arialabelledby="outlook"><title id="outlook" lang="en">outlook icon</title><g fill="currentColor"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></g></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索文档" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/blog/" class="nav-link sidebar-link sidebar-page" arialabel="博客主页"><i class="icon iconfont icon-home"></i>博客主页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project.html" class="nav-link sidebar-link sidebar-page" arialabel="项目总览"><i class="icon iconfont icon-folder"></i>项目总览<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-edit"></i><span class="title">知识要点</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-operate"></i><span class="title">捣鼓折腾</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><i class="icon iconfont icon-linux"></i><span class="title">Linux</span><span class="arrow down"></span></button><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><i class="icon iconfont icon-blog"></i><span class="title">Linux基础知识</span><span class="arrow down"></span></button><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/blog/project/Linux/Linux_basic/" class="nav-link sidebar-link sidebar-page" arialabel="linux介绍"><!---->linux介绍<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/01.linux_atten.html" class="nav-link sidebar-link sidebar-page" arialabel="linux的管理建议"><!---->linux的管理建议<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/02.linux_dir.html" class="nav-link sidebar-link sidebar-page" arialabel="linux文件系统结构"><!---->linux文件系统结构<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/03.linux_basic.html" class="nav-link sidebar-link sidebar-page" arialabel="linux基本操作命令"><!---->linux基本操作命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/04.linux_authority.html" class="nav-link sidebar-link sidebar-page" arialabel="linux权限管理命令"><!---->linux权限管理命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/05.linux_help.html" class="nav-link sidebar-link sidebar-page" arialabel="linux帮助命令"><!---->linux帮助命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/06.linux_search.html" class="nav-link sidebar-link sidebar-page" arialabel="linux搜索命令"><!---->linux搜索命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/07.linux_compress.html" class="nav-link sidebar-link sidebar-page" arialabel="linux压缩、解压缩命令"><!---->linux压缩、解压缩命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/08.linux_shutdown_reboot.html" class="nav-link sidebar-link sidebar-page" arialabel="linux关机和重启命令"><!---->linux关机和重启命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/09.linux_net.html" class="nav-link sidebar-link sidebar-page" arialabel="linux常用网络命令"><!---->linux常用网络命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="linux文本编辑器"><!---->linux文本编辑器<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#文本编辑器-vim" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="文本编辑器 Vim"><!---->文本编辑器 Vim<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-的工作模式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Vim 的工作模式"><!---->Vim 的工作模式<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#进入-vim" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="进入 Vim"><!---->进入 Vim<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#使用-vim-打开文件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="使用 Vim 打开文件"><!---->使用 Vim 打开文件<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#直接进入指定位置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="直接进入指定位置"><!---->直接进入指定位置<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-的基本应用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Vim 的基本应用"><!---->Vim 的基本应用<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#插入命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="插入命令"><!---->插入命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#光标移动命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="光标移动命令"><!---->光标移动命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#使用-vim-进行编辑" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="使用 Vim 进行编辑"><!---->使用 Vim 进行编辑<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#保存退出命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="保存退出命令"><!---->保存退出命令<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-的进阶应用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Vim 的进阶应用"><!---->Vim 的进阶应用<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-配置文件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Vim 配置文件"><!---->Vim 配置文件<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#多窗口编辑" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="多窗口编辑"><!---->多窗口编辑<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#区域复制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="区域复制"><!---->区域复制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#定义快捷键" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="定义快捷键"><!---->定义快捷键<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#在-vim-中与-shell-交互" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="在 Vim 中与 Shell 交互"><!---->在 Vim 中与 Shell 交互<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#文本格式转换" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="文本格式转换"><!---->文本格式转换<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-的宏记录" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Vim 的宏记录"><!---->Vim 的宏记录<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#ab-命令的小技巧" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="ab 命令的小技巧"><!---->ab 命令的小技巧<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#文本编辑器-nano" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="文本编辑器 nano"><!---->文本编辑器 nano<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/11.linux_soft_install.html" class="nav-link sidebar-link sidebar-page" arialabel="linux软件安装"><!---->linux软件安装<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/12.linux_user_group.html" class="nav-link sidebar-link sidebar-page" arialabel="linux用户和用户组管理"><!---->linux用户和用户组管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/13.linux_other_auth.html" class="nav-link sidebar-link sidebar-page" arialabel="linux其他权限管理命令"><!---->linux其他权限管理命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/project/Linux/Linux_basic/14.linux_filesystem_manage.html" class="nav-link sidebar-link sidebar-page" arialabel="linux文件系统管理"><!---->linux文件系统管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-blog"></i><span class="title">Linux系统管理</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-blog"></i><span class="title">Linux大杂烩</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-shell"></i><span class="title">Shell脚本笔记</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-hot"></i><span class="title">Docker笔记</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-git"></i><span class="title">Git笔记</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-table"></i><span class="title">Excel修炼秘籍</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->linux文本编辑器</h1><div class="article-info"><span class="author-info" arialabel="作者🖊" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://ryukarin.github.io/blog/" target="_blank" rel="noopener noreferrer">karin</a></span><span property="author" content="karin"></span></span><!----><span class="date-info" arialabel="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2021年5月6日</span><meta property="datePublished" content="2021-05-06T00:00:00.000Z"></span><span class="category-info" arialabel="分类🌈" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category category8 clickable" role="navigation">笔记</li><meta property="articleSection" content="笔记"></ul></span><span arialabel="标签🏷" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag tag6 clickable" role="navigation">linux</li></ul><meta property="keywords" content="linux"></span><span class="reading-time-info" arialabel="阅读时间⌛" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" arialabelledby="timer"><title id="timer" lang="en">timer icon</title><g fill="currentColor"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></g></svg><span>大约 29 分钟</span><meta property="timeRequired" content="PT29M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#文本编辑器-vim" class="router-link-active router-link-exact-active toc-link level2">文本编辑器 Vim</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-的工作模式" class="router-link-active router-link-exact-active toc-link level3">Vim 的工作模式</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#进入-vim" class="router-link-active router-link-exact-active toc-link level2">进入 Vim</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#使用-vim-打开文件" class="router-link-active router-link-exact-active toc-link level3">使用 Vim 打开文件</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#直接进入指定位置" class="router-link-active router-link-exact-active toc-link level3">直接进入指定位置</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-的基本应用" class="router-link-active router-link-exact-active toc-link level2">Vim 的基本应用</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#插入命令" class="router-link-active router-link-exact-active toc-link level3">插入命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#光标移动命令" class="router-link-active router-link-exact-active toc-link level3">光标移动命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#使用-vim-进行编辑" class="router-link-active router-link-exact-active toc-link level3">使用 Vim 进行编辑</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#保存退出命令" class="router-link-active router-link-exact-active toc-link level3">保存退出命令</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-的进阶应用" class="router-link-active router-link-exact-active toc-link level2">Vim 的进阶应用</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-配置文件" class="router-link-active router-link-exact-active toc-link level3">Vim 配置文件</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#多窗口编辑" class="router-link-active router-link-exact-active toc-link level3">多窗口编辑</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#区域复制" class="router-link-active router-link-exact-active toc-link level3">区域复制</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#定义快捷键" class="router-link-active router-link-exact-active toc-link level3">定义快捷键</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#在-vim-中与-shell-交互" class="router-link-active router-link-exact-active toc-link level3">在 Vim 中与 Shell 交互</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#文本格式转换" class="router-link-active router-link-exact-active toc-link level3">文本格式转换</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#vim-的宏记录" class="router-link-active router-link-exact-active toc-link level3">Vim 的宏记录</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#ab-命令的小技巧" class="router-link-active router-link-exact-active toc-link level3">ab 命令的小技巧</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/project/Linux/Linux_basic/10.linux_text_edit.html#文本编辑器-nano" class="router-link-active router-link-exact-active toc-link level2">文本编辑器 nano</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h2 id="文本编辑器-vim" tabindex="-1"><a class="header-anchor" href="#文本编辑器-vim" aria-hidden="true">#</a> 文本编辑器 Vim</h2><p>Linux 中的所有内容以文件形式管理，在命令行下更改文件内容，常常会用到文本编辑器。</p><p>我们首选的文本编辑器是 Vim，它是一个基于文本界面的编辑工具，使用简单且功能强大，更重要的是，Vim 是所有 Linux 发行版本的默认文本编辑器。</p><p>很多 UNIX 和 Linux 的老用户习惯称呼它为 Vi，Vi 是 Vim 的早期版本，现在我们使用的 Vim（Vi improved）是 Vi 的增强版，增加了一些正则表达式的查找、多窗口的编辑等功能，使得 Vim 对于程序开发来说更加方便。想了解 Vi 和 Vim 的区别，可以在 Vim 命令模式下输入 <code>:help vi_diff</code>，就能够看到两者区别的摘要。</p><p>值得一提的是，Vim 是慈善软件，如有赞助或评比得奖，所得钱财将用于救助乌干达孤儿。软件使用是免费的，使用者是否捐款赞助当然不会勉强。不过，如果有有奖评比活动，那么你去投一票也算功德一件。</p><p>了解 Vim 更多信息可以访问官网：<a href="http://www.vim.org" target="_blank" rel="noopener noreferrer">http://www.vim.org<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="vim-的工作模式" tabindex="-1"><a class="header-anchor" href="#vim-的工作模式" aria-hidden="true">#</a> Vim 的工作模式</h3><p>在使用 Vim 编辑文件前，我们先来了解一下它的 3 种工作模式：<strong>命令模式</strong>、<strong>输入模式</strong>和<strong>编辑模式</strong>，这 3 种工作模式可随意切换，如图11-1 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vim.3b034d9c.jpg" alt="vim" loading="lazy"></p><p><strong>图11-1 <u>Vim 的三种工作模式</u></strong></p></div><ul><li><strong>命令模式</strong></li></ul><p>使用 Vim 编辑文件时，默认处于命令模式。此模式下，可使用方向键（上、下、左、右键）或 <kbd>k</kbd>、<kbd>j</kbd>、<kbd>h</kbd>、<kbd>i</kbd> 移动光标的位置，还可以对文件内容进行复制、粘贴、替换、删除等操作。</p><ul><li>输入模式</li></ul><p>在输入模式下，Vim 可以对文件执行写操作，类似于在 Windows 系统的文档中输入内容。使 Vim 进行输入模式的方式是在命令模式状态下输入 <kbd>i</kbd>、<kbd>I</kbd>、<kbd>a</kbd>、<kbd>A</kbd>、<kbd>o</kbd>、<kbd>O</kbd> 等插入命令，编辑文件完成后按 <kbd>Esc</kbd> 键即可返回命令模式。</p><ul><li><strong>编辑模式</strong></li></ul><p>如果要保存、查找或者替换一些内容等，就需要进入编辑模式。编辑模式的进入方法为：在命令模式下按 <kbd>:</kbd> 键，Vim 窗口的左下方会出现一个“:”符号，这时就可以输入相关的指令进行操作了。指令执行后会自动返回命令模式。</p><p>对于新手来说，经常不知道自己处于什么模式。不论是自己忘了，还是不小心切换了模式，都可以直接按一次 <kbd>Esc</kbd> 键返回命令模式。如果你多按几次 <kbd>Esc</kbd> 键后听到了“嘀——”的声音，则代表你已经处于命令模式了。</p><h2 id="进入-vim" tabindex="-1"><a class="header-anchor" href="#进入-vim" aria-hidden="true">#</a> 进入 Vim</h2><p>了解了 Vim 的工作模式后，就可以愉快地使用 Vim 进行文件编辑了。先来看一下 Vim 打开文件的方法。</p><h3 id="使用-vim-打开文件" tabindex="-1"><a class="header-anchor" href="#使用-vim-打开文件" aria-hidden="true">#</a> 使用 Vim 打开文件</h3><p>使用 Vim 打开文件很简单，例如，你想打开一个自己编写的文件 <code>/test/vi.test</code>，打开方法如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@itxdl ~<span class="token punctuation">]</span><span class="token comment"># vim /test/vi.test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>刚打开文件时进入的是命令模式，此时文件的下方会显示文件的一些信息，包括文件名，文件的总行数和字符数，以及当前光标所在的位置等，此时可以使用插入命令（如：<kbd>i</kbd>）进入输入模式对文件进行编辑，如图11-2 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vim_open.e773fb58.png" alt="vim open" loading="lazy"></p><p><strong>图11-2 <u>Vim 打开文件</u></strong></p></div><p>接下来的操作练习，如果你的 Linux 中没有自己编写的文件，或者你懒得编写文件，则可以直接复制一个系统文件，方法如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@itxdl ~<span class="token punctuation">]</span><span class="token comment"># cp /etc/passwd /tmp/passwd.vi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>千万不要随意打开一个系统文件就直接开始练习！</p><h3 id="直接进入指定位置" tabindex="-1"><a class="header-anchor" href="#直接进入指定位置" aria-hidden="true">#</a> 直接进入指定位置</h3><p>如果想直接进入 Vim 编辑文件的指定行数处或者特定字符串所在行，节省编辑时间，例如，打开 <code>/tmp/passwd.vi</code> 文件时直接进入第 20 行，则可以这样操作：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@itxdl ~<span class="token punctuation">]</span><span class="token comment"># vim +20 /tmp/passwd.vi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>打开文件后，直接进入“nobody”字符串所在行，则可以这样操作：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@itxdl ~<span class="token punctuation">]</span><span class="token comment"># vim +/nobody /tmp/passwd.vi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果文件中有多个“nobody”字符串，则会以查到的第一个为准。</p><h2 id="vim-的基本应用" tabindex="-1"><a class="header-anchor" href="#vim-的基本应用" aria-hidden="true">#</a> Vim 的基本应用</h2><p>打开文件后，接下来开始对文件进行编辑。Vim 虽然是一个基于文本模式的编辑器，但却提供了丰富的编辑功能。对于习惯使用图形界面的朋友来说，刚开始会较难适应，但是熟练后就会发现，使用 <code>Vim</code> 进行编辑实际上更加快速。</p><h3 id="插入命令" tabindex="-1"><a class="header-anchor" href="#插入命令" aria-hidden="true">#</a> 插入命令</h3><p>从命令模式进入<strong>输入模式</strong>进行编辑，可以按下 <kbd>i</kbd>、<kbd>I</kbd>、<kbd>a</kbd>、<kbd>A</kbd>、<kbd>o</kbd>、<kbd>O</kbd> 等键来完成，不同的键只是光标所处的位置不同而已。当进入输入模式后，你会发现，在 Vim 编辑窗口的左下角会出现“INSERT”标志（中文版本出现“插入”标志），这就代表我们可以执行写入操作了，如图11-3 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vim_insert.20133fab.png" alt="vim insert" loading="lazy"></p><p><strong>图11-3 <u>输入模式</u></strong></p></div><p>常用的插入命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>i	——在当前光标所在位置插入随后输入的文本，光标后的文本相应向右移动
I 	——在光标所在行的行首插入随后输入的文本，行首是该行的第一个非空白字符，相当于光标移动到行首再执行 i 命令
a	——在当前光标所在位置之后插入随后输入的文本
A	——在光标所在行的行尾插入随后输入的文本，相当于光标移动到行尾再执行 a 命令
o	——在光标所在行的下面插入新的一行。光标停在空行的行首，等待输入文本
O	——在光标所在行的上面插入新的一行。光标停在空行的行首，等待输入文本
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">注意</p><p>在Linux 纯字符界面中，默认是不支持中文输入的。如果想要输入中文，则有三种方法。</p><ol><li><p>安装中文语言支持和图形界面，在图形界面下输入中文，使用 gVim（Vim 的图形前端）。</p></li><li><p>安装中文语言支持，使用远程连接工具（如 PuTTY )，在远程连接工具中调整中文编码，进行中文输入。</p></li><li><p>倘若非要在 Linux 纯字符界面中输入中文，则可以安装中文插件，如 zhcon。</p></li></ol></div><h3 id="光标移动命令" tabindex="-1"><a class="header-anchor" href="#光标移动命令" aria-hidden="true">#</a> 光标移动命令</h3><p>在进行编辑工作之前，需要将光标移动到适当的位置。Vim 提供了大量的光标移动命令，注意这些命令需要在<strong>命令模式</strong>下执行。下面介绍一些常用的光标移动命令。</p><ol><li><strong>以字符为单位移动</strong></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>上、下、左、右方向健		——移动光标
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>习惯使用鼠标的用户可能很自然地想到用鼠标来进行编辑定位，但是你会发现鼠标不会给你任何反应。在 Vim 中进行定位需要通过上、下、左、右方向键，并且无论是命令模式还是输入模式，都可以通过方向键来移动光标（在编辑模式中，方向键是用来查看命令历史记录的）。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>h、j、k、l					——移动光标
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>另外，还可以在命令模式中使用 h、j、k、l 四个字符控制方向，分别表示向左、向下、向上、向右。在大量编辑文档时，会频繁地移动光标，这时使用方向键可能会比较浪费时间，使用这 4 个键就很方便快捷。当然，这同样是一件熟能生巧的事情。</p><ol start="2"><li>以单词为单位移动</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>w	——移动光标到下一个单词的词首
b	——移动光标到上一个单词的词首
e	——移动光标到下一个单词的词尾
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>有时候需要迅速进入一行中的某个位置，如果能使光标一次移动一个单词就会非常方便。可以在命令模式中使用“w”命令来使光标向后跳到下一个单词的词首，或者使用“b”命令使光标向前跳到上一个单词的词首，还可以使用“e”命令使光标跳到下一个单词的词尾。</p><ol start="3"><li><strong>移动到行尾或者行首</strong></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$		——移动光标到行尾
<span class="token number">0</span> 或 ^	——移动光标到行首
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>可以使用 <code>$</code> 命令将光标移至行尾，使用 <code>0</code> 或 <code>^</code> 命令将光标移至行首。其实，对于 <code>$</code> 命令来说，可以使用诸如 <code>n$</code> 之类的命令来将光标移至当前光标所在行的之后 n 行的行尾（n 为数字）：对于 <code>0</code> 命令来说却不可以，但可以用 <code>n^</code>。</p><ol start="4"><li><strong>移动到一行的指定字符处</strong></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>f字符				——移动光标到第一个符合条件的字符处
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果在一行中需要将光标移动到当前行的某个特定字符处，则可以使用 <code>f</code> 命令。例如，某行内容为“you can you up，no can no bb”，现在需要将光标移动到字符 p 处，则可以使用“<code>fp</code>”命令，这样光标就会迅速定位到字符 p 处。<code>f</code> 命令有一个使用条件，即光标需在指定字符前。</p><ol start="5"><li><strong>移动到匹配的括号处</strong></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>%		 			——在匹配的括号间切换
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果你是一名程序员，那么在使用 Vim 进行编辑时经常会为将光标移动到与一个 “<code>(</code>&quot; 匹配的 “<code>)</code>” （对于[ ]和{ }也是一样的）处而感到头疼。其实在 Vim 里面提供了一个非常方便地查找匹配括号的命令，这就是 <code>%</code> 。比如，在 <code>/etc/init.d/sshd</code> 脚本文件中（最好还是复制后练习，小心驶得万年船)，想迅速地将光标定位到与第 49 行的 “<code>{</code>” 相对应的 “<code>}</code>” 处，则可以将光标先定位在 “<code>{</code>” 处，然后再使用 <code>%</code> 命令，使之定位在 “<code>}</code>” 处，如图11-4 所示。关于定位文件指定的行，后续会有介绍。</p><div class="custom-container center"><p><img src="/blog/assets/vim100.885d7051.png" alt="vim %" loading="lazy"></p><p><strong>图11-4 <u>使用“%”命令定位括号</u></strong></p></div><ol start="6"><li><strong>移动到指定行处</strong></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>nG 或 :n			——移动光标到指定的行
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>可以直接在命令模式中输入 <code>nG</code>（n 为数字，G 为大写）或 <code>:n</code>（在编辑模式中输入数字）命令将光标快速地定位到指定行的行首。这种方法对于快速移动光标非常有效。</p><h3 id="使用-vim-进行编辑" tabindex="-1"><a class="header-anchor" href="#使用-vim-进行编辑" aria-hidden="true">#</a> 使用 Vim 进行编辑</h3><p>光标移动到指定位置后，如何进行编辑操作呢？Vim 提供了大量的编辑命令，下面介绍其中一些常用的命令。</p><ol><li><strong>查找指定字符串</strong></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/要查找的字符串		——从光标所在行开始向下查找所需的字符串
?要查找的字符串		——从光标所在行开始向上查找所需的字符串
:set ic				——查找时忽略大小写
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>一个字符串可以是一个或者多个字母的集合。如果想在 Vim 中查找字符串，则需要在命令模式下进行。在 Vim 命令模式中输入 <code>/要查找的字符串</code>，再按一下回车键，就可以从光标所在行开始向下查找指定的字符串。如果要向上查找，则只需输入 <code>?要查找的字符串</code> 即可。例如，在 <code>/etc/passwd.vi</code> 文件中查找字符串“root”，则运行命令如图11-5 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vim_s_root.24a0ccdb.png" alt="vim_s_root" loading="lazy"></p><p><strong>图11-5 <u>使用 Vim 进行查找</u></strong></p></div><p>如果匹配的字符串有多个，则可以按 <kbd>n</kbd> 键向下继续匹配查找，按 <kbd>N</kbd> 键向上继续匹配查找。如果在文件中并没有找到所要查找的字符串，则在文件底部会出现“Pattern not found”提示（中文版本出现“找不到模式”），如图11-6 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vim_s_zdm.7966376b.png" alt="vim_s_zdm" loading="lazy"></p><p><strong>图11-6 <u>未查找到指定字符串的提示</u></strong></p></div><p>在查找的过程中需要注意的是，要查找的字符串是严格区分大小写的，如查找“zhiling”和“ZhiLing”会得到不同的结果。如果想忽略大小写，则输入命令 <code>:set ic</code>；调整回来输入<code>:set noice</code>，如果在字符串中出现特殊符号，则需要加上转义字符“\”，常见的特殊符号有 <strong>\、?、^、$</strong> 等。如果出现这些字符，例如，要查找字符串“10$”，则需要在命令模式中输入 <code>/10\$</code>。还可以查找指定的行。例如，要查找一个以”root“为行首的行，则可以进行如下操作：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/^root
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>要查找一个以“root”为行尾的行，则可以进行如下操作：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/root$
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li><strong>使用 Vim 进行替换</strong></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>r	——潜換光标所在处的字符
R	——从光标所在处开始替换字符，按 Esc 键结束
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>小写“r”可以替换光标所在处的某个字符，将光标移动到想替换的单个字符处，按下 <kbd>r</kbd> 键，然后直接输入替换的字符即可；大写“R”可以从光标所在处开始替换字符，输入会覆盖后面的文本内容，直到按 <kbd>Esc</kbd> 键结束替换，如图11-7 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vim_R.8ba6050d.png" alt="vim R" loading="lazy"></p><p><strong>图11-7 <u>使用“R”进行替换</u></strong></p></div><p>按下 <kbd>R</kbd> 键替换后，Vim 编辑文件左下角会显示“REPLACE”（中文版为“替换”），进入替换状态。输入的内容会替换掉所在行光标后面的内容，直到按 <kbd>Esc</kbd> 键才会退出替换；否则将一直处于替换状态。</p><p>批量替换：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:替换起始处,替换结束处 s/源字符串/替换的字符串/g	——替换范围内的字符串
:% s/源字符串/替换的字符串/g						——替换整篇文档的字符串
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果不加“g”，则只替换每行第一个找到的字符串。</p><p>假设要将 <code>/tmp/passwd.vi</code> 文件中所有的“root”替换为“liudehua”，则可以输入 <code>:1,$ s/root/liudehua/g</code> 或 <code>:% s/root/liudehua/g</code>。如图11-8 所示：</p><div class="custom-container center"><p><img src="/blog/assets/vim_liudehua.29413db2.png" alt="vim liudehua" loading="lazy"></p><p><strong>图11-8 <u>指定范围替换</u></strong></p></div><p>上述命令是在<strong>编辑模式</strong>下操作的，表示的是从第一行到最后一行，即全文查找“root”，然后替换成“liudehua”。</p><p>如果刚才的命令变成如下这样：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:10,20 s/root/liudehua/g
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>则知替换从第 10 行到第 20 行的“root”。</p><ol start="3"><li><strong>使用 Vim 进行删除、粘贴、复制</strong></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>x					——删除光标所在字符
nx					——从光标所在位置向后删除 n 个字符，n 为数字
<span class="token function">dd</span>					——删除整行。如果之后粘贴，则此命令的作用是剪切
ndd					——删除多行
dG					——删除从光标所在行到文件末尾的内容
D					——删除从光标所在处到这行行尾的内容
:起始行,终止行 d	——删除指定范围的行
yy 或 Y				——复制单行
nyy 或 nY			——复制多行
P					——粘贴到当前光标所在行下
p					——粘贴到当前光标所在行上
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>如果处于<strong>命令模式</strong>下，则可以按下 <kbd>x</kbd> 键来删除光标所在位置的单个字符；快速按两下 <kbd>d</kbd> 键来进行整行删除；如果想要删除连续多行，例如，想要删除 10 行，则可以按下<code>10dd</code>，可以快速删除当前光标所在行下 10 行。</p><p>此时被删除的内容并没有真正删除，都临时放在了内存中。将光标移动到指定位置处，按下 <kbd>p</kbd> 键，就可以将刚才删除的内容又粘贴到此处。在软件开发中可能需要将连续两行进行互换，就可以先将上面的一行通过 <code>dd</code> 键删除，再将光标移动到下面，通过 <kbd>p</kbd> 键将其重新粘贴，这样就能够达到两行互相交换位置的目的。 <code>dG</code> 键可以删除从光标所在行一直到文件末尾的全部内容，而 <kbd>D</kbd> 键可以删除从光标所在处到这行行尾的内容。如果要删除指定范围的行，则可以用 <code>:起始行,终止行 d</code>。如删除第 1～3 行，则输入 <code>:1,3 d</code>，如图11-9 所示，会提示“3 fewer lines”。（或“少了 3 行”）</p><div class="custom-container center"><p><img src="/blog/assets/vim_1,3d.7c156248.png" alt="vim 1,3d" loading="lazy"></p><p><strong>图11-9 <u>删除指定范围的行</u></strong></p></div><p>还可以通过 <code>yy</code> 键来复制单行，或者通过在前面加上数字来复制当前光标所在行下的多行。</p><p>有时候可能需要把两行进行连接。如在下面的文件中有两行，现在需要使其成为一行，实际上就是将两行同的换行符去掉。可以直接在命令模式中按下 <kbd>J</kbd> 键，按下前后如图11-10所示：</p><div class="custom-container center"><p><img src="/blog/assets/vim_J.fb4e92cf.png" alt="J" loading="lazy"></p><p><strong>图11-10 <u>按下“J”之前和之后对比</u></strong></p></div><ol start="4"><li><strong>使用 Vim 撤销上一步操作</strong></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>u	——撒销
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果不小心误删除了文件内容，则可以通过 <kbd>u</kbd> 键来撤销刚才执行的命令。如果要撤销刚才的多次操作，则可以多按几次 <kbd>u</kbd> 键。</p><h3 id="保存退出命令" tabindex="-1"><a class="header-anchor" href="#保存退出命令" aria-hidden="true">#</a> 保存退出命令</h3><p>估计前面一大堆的操作已经让你有些力不从心了，其实，这还只是总结出来的常用部分。不过对于日常使用基本足够了，不用死记硬背，只需多练习就能掌握。</p><p>Vim 的保存和退出是在<strong>命令模式</strong>中进行的，为了方便记忆，只需要记住 <strong>w、q、!</strong> 三个符号的含义即可完成保存任务。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>字母“w”	——保存不退出
字母“q”	——不保存退出
字符“<span class="token operator">!</span>”	——强制性操作
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>例如，在命令模式中只輸入“w”字母就意味着保存但不退出；如果输入“wq”就意味着保存并且退出：如果输入“w!”或“wq！”就意味着强制保存或强制保存退出，这种情况经常发生在对一个文件没有写权限的时候（显示 “readonly” 或 “只读”，如图11-11 所示)，但如果你是文件的所有着或者 root 用户，就可以强制执行。</p><div class="custom-container center"><p><img src="/blog/assets/vim_ro.29aaaa47.png" alt="/vim_ro" loading="lazy"></p><p><strong>图11-11 <u>只读文件</u></strong></p></div><p>其他用法，如“q!”表示不保存退出：保留源文件，而另存为其他的文件，可以用 <code>w 新文件名</code>，如：<code>w /tmp/shadow.vi</code>。</p><p>在命令模式中，还可以输入 <code>ZZ</code> 命令退出，按两次 <kbd>Shif</kbd> + <kbd>Z</kbd> 快捷键比较方便，强烈推荐。此时如果对文件没有修改，就是不保存退出；如果对文件已经进行了一些修改，就是保存后退出。</p><h2 id="vim-的进阶应用" tabindex="-1"><a class="header-anchor" href="#vim-的进阶应用" aria-hidden="true">#</a> Vim 的进阶应用</h2><p>以上介绍了 Vim 的常见用法，接下来给大家介绍一下 Vim 使用的小技巧。</p><h3 id="vim-配置文件" tabindex="-1"><a class="header-anchor" href="#vim-配置文件" aria-hidden="true">#</a> Vim 配置文件</h3><p>在使用 Vim 进行编辑的过程中，经常会遇到需要同时对连续几行进行操作的情况，这时如果每行都有行号提示，就会非常方便。在命令模式下输入 <code>:set nu</code> 即可显示每一行的行号，如图11-12 所示。如果想要取消行号，则再次输入 <code>:set nonu</code> 即可。</p><div class="custom-container center"><p><img src="/blog/assets/vim_nu.bf040775.png" alt="vim_nu" loading="lazy"></p><p><strong>图11-12 <u>显示行号</u></strong></p></div><p>如果希望每次打开文件都默认显示行号，则可以编辑 Vim 的配置文件。每次使用 Vim打开文件时，Vim 都会到当前登录用户的宿主目录（用户配置文件所在位置）中读取 <code>.vimnc</code> 文件，此文件可以对 Vim 进行一-些默认配置设定。如果 <code>.vimrc</code> 文件存在，就先读取其中对 Vim 的设置；否则就采取默认配置。在默认情况下，用户宿主目录中是没有此文件的，需要在当前用户的宿主目录中手工建立，如 <code>vim ~/.vimne</code>，“~”代表宿主目录，root 的宿主目录为 <code>/root</code>，普通用户的宿主目录存放在 <code>/home/</code> 目录下。可以直接使用 Vim 編辑生成此文件，并在此文件中添加一行“set nu”，保存并退出，如图11-13 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vimrc.266f3135.png" alt="vimrc" loading="lazy"></p><p><strong>图11-13 <u>.vimrc 配置文件</u></strong></p></div><p>之后此用户登录，每次 Vim 打开文件时，都会默认显示行号。后面将要讲到的 mmp，ab 等 Vim 命令也可以写入配置文件中，便于使用。常见的可以写入 <code>.vimrc</code> 文件中的设置参数如表11-1 所示。</p><p><strong>表11-1 <u>常见的可以写入 .vimrc 文件中的设置参数</u></strong></p><table><thead><tr><th>设置参数</th><th>含义</th></tr></thead><tbody><tr><td><code>:set nu</code><br><code>:set nonu</code></td><td>设置与取消行号</td></tr><tr><td><code>:syn on</code><br><code>:syn off</code></td><td>是否依据语法显示相关的颜色帮助。在 Vim 中修改相关的<br>配置文件或 Shell 脚本文件时，默认会显示相应的颜色，用来帮助排错。</td></tr><tr><td><code>:set hlsearch</code><br><code>:set nohlcearch</code></td><td>设置是否将查找的字符串高亮显示。默认是 hlsearch 高亮显示</td></tr><tr><td><code>:set backup</code><br><code>:set nobackup</code></td><td>是否保存自动备份文件。默认是 nobackup 不自动备份，<br>如果设定了:sel backup，则会产生“文件名~”作为备份文件</td></tr><tr><td><code>:set ruler</code><br><code>:set noruler</code></td><td>设置是否显示右下角的状态栏默认是 ruler 显示</td></tr><tr><td><code>:set showmode</code><br><code>:set noshowmode</code></td><td>设置是否在左下角显示如“--INSTALL--”之类的状态栏，默认是 showmode 显示</td></tr></tbody></table><p>设置参数实在太多了，这里只列举了常见的几个，可以使用 <code>:set all</code> 命令查看所有的设置参数。这些设置参数都可以写入 <code>.vimre</code> 配置文件中，让它们永久生效；也可以直接在 Vim 中执行，让它们临时生效。</p><h3 id="多窗口编辑" tabindex="-1"><a class="header-anchor" href="#多窗口编辑" aria-hidden="true">#</a> 多窗口编辑</h3><p>在编辑文件时，有时需要参考另一个文件，如果在两个文件之间进行切换则比较麻烦。可以使用 Vin 同时打开两个文件，每个文件分别占用一个窗口。例如，在查看 <code>/etc/passwd</code> 时需要参考 <code>/etc/shadow</code>，有两种办法可以实现：可以先使用 Vim 打开第一个文件，接着输入命令 <code>:sp /etc/shadow</code> 水平切分窗口，然后按回车键，如果想垂直切分窗口则可以输入 <code>vs /etc/shadow</code>；也可以直接执行命令 <code>vim -o 第一个文件名 第二个文件名</code>，也就是 <code>vim -o /etc/passwd /etc/shadow</code>。得到的结果图11-14 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vim-o.a28dbf32.png" alt="vim-o" loading="lazy"></p><p><strong>图11-14 <u>使用 Vim 打开多个窗口</u></strong></p></div><p>切换到另一个文件窗口，可以按 <kbd>Ctl</kbd>+<kbd>W</kbd><kbd>W</kbd> 快捷键。</p><p>如果想将一个文件的内容全部复制到另一个文件中，则可以输入命令 <code>:r 被复制的文件名</code>，即可将导入文件的全部内容复制到当前光标所在行下面。</p><h3 id="区域复制" tabindex="-1"><a class="header-anchor" href="#区域复制" aria-hidden="true">#</a> 区域复制</h3><p>通过前面的操作，大家会发现，Vim 是以行为单位进行整体编辑的。但是有时候需要对一些特定格式的文件进行某个范围的编辑，就需要使用区域复制功能。</p><p>举例来说，现在想将 <code>/etc/services</code> 文件（此文件记录了所有服务名与端口的对应关系）中的服务名都复制下来，就可以执行以下操作：先使用 Vim 打开 <code>/etc/scrvices</code> 文件，再将光标移动到需要复制的第一行处，然后按下 <kbd>Ctrl</kbd> + <kbd>V</kbd> 快捷键，这时底部状态栏出现“--VISUAL BLOCK--”（或“--可视 块--”），就可以使用上、下、左、右方向键进行区域的选取了；当全 <kbd>y</kbd> 健，然后将光标移动到目标位置处；按下 <kbd>p</kbd> 键，即可完成区域复制，如图11-15 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vim_vb.b4ddb161.png" alt="vim vb" loading="lazy"></p><p><strong>图11-15 <u>区域复制</u></strong></p></div><h3 id="定义快捷键" tabindex="-1"><a class="header-anchor" href="#定义快捷键" aria-hidden="true">#</a> 定义快捷键</h3><p>使用 Vim 编辑 Shell 脚本，在进行调试时，需要进行多行的注释，每次都要先切换到输入模式，在行首输入注释符“#”，再退回命令模式，非常麻烦。连续行的注释其实可以用替换命令来完成。</p><p>在指定范围行添加“#”注释，可以使用 <code>:起始行,终止行 s/^/#/g</code>，例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:1,10s /^/<span class="token comment">#/g</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>表示在第 1～10 行行首加“#”注释。“^”意为行首。“g”表示执行替换时不询问确认。如果希望每行交互询问是否执行，则可将“g”改为“c”。</p><p>取消连续行注释，则可以使用 <code>:起始行,终止行 s/#//g</code>，例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:1,10s/^<span class="token comment">#//g</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>意为将行首的“#”替换为空，即删除。当然，使用语言不同，注释符号或想替换的内容不同，都可以采用此方法，添加“//”注释，要稍微麻烦一些，<code>:起始行,终止行 s/^/\/\//g</code>”，因为“/”前面需要加转义字符“\&quot;，所以写出来比较奇特，例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:1,5s /^/<span class="token punctuation">\</span>/<span class="token punctuation">\</span>//g
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>表示在第 1～5 行行首加“//”注释。</p><p>以上方法可以解决连续行的注释问题，如果是非连续的多行就不灵了，这时我们可以定义快捷键简化操作。</p><p>格式如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:map 快捷健 执行命令		——定义快捷键
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如定义快捷键 <kbd>Ctrl</kbd>+<kbd>P</kbd> 为在行首添加“#”注释，可以执行 <code>:map ^P I#&lt;Esc&gt;</code>。其中“^P”为定义快捷键 <kbd>Ctrl</kbd>+<kbd>P</kbd>。注意：必须同时按 <kbd>Ctrl</kbd>+<kbd>V</kbd>+<kbd>P</kbd> 快捷键生成“^P”方可有效，或先按 <kbd>Ctrl</kbd>+<kbd>V</kbd> 再按 <kbd>Ctrl</kbd>+<kbd>P</kbd> 也可以，直接输入“^P”是无效的。</p><p>“I#&lt;Esc&gt;”就是此快捷键要触发的动作，“I”为在光标所在行行首插入，“#”为要输入的字符，“&lt;Esc&gt;”表示退回命令模式。“&lt;Esc&gt;”要逐个字符输入，不可直接按键盘上的 <kbd>Esc</kbd> 键。</p><p>设置成功后，直接在任意需要注释的行上按 <kbd>Ctrl</kbd>+<kbd>P</kbd> 快捷键，就会自动在行首加上“#”注释。取消此快捷键定义，输入 <code>:unmap ^P</code> 即可。我们可以延伸一下，如果想定义删除文件行首字符的快捷键，则可以设置 <code>:map ^B 0x</code>，快捷键为 <kbd>Ctrl</kbd>+<kbd>B</kbd>，“0”表示跳到行首，“x”表示删除光标所在处字符。</p><p>再如，有时我们写完脚本等文件，需要在末尾注释中加入自己的邮箱，则可以直接定义解次按快捷键 <kbd>Ctrl</kbd>+<kbd>E</kbd> 实现插入邮箱，定义方法为 <code>:map ^E asamlee@itxdl.net&lt;Esc&gt;</code>。其中，“a”表示在当前字符后插入，“samlee@itxdl.net“为插入的邮箱，”&lt;Esc&gt;“表示插入后返回命令模式。</p><p>所以，通过定义快捷键，我们可以把前面讲到的命令组合起来使用。</p><p>将快捷键对应的命令保存在<code>.vimrc</code> 文件中，即可在每次使用 Vim 时自动调用，非常方便。</p><h3 id="在-vim-中与-shell-交互" tabindex="-1"><a class="header-anchor" href="#在-vim-中与-shell-交互" aria-hidden="true">#</a> 在 Vim 中与 Shell 交互</h3><p>在 Vim中，可以在编辑模式下用 <code>!</code> 命令来访问 Linux 的 Shell 以进行操作。命令格式如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:<span class="token operator">!</span> 命令
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>直接在 <code>!</code> 后面跟所要执行的命令即可，这样可以在系统中直接查看命令的执行结果。例如，在编辑过程中想查看一下 <code>/etc/passwd</code> 文件的权限，则可以使用如下命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:<span class="token operator">!</span> <span class="token function">ls</span> -l /etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>执行后，会在当前编辑文件中显示命令的执行结果，完毕后会提示用户按回车键返回编辑状态。如图11-16 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vimi0.03169ef8.png" alt="vim" loading="lazy"></p><p><strong>图11-16 <u>与 shell 交互</u></strong></p></div><p>如果想把命令的执行结果导入编辑文件中，则还可以与导入命令 <code>r</code> 一起使用。如在编辑完文件后，在文件未尾加入当前时间，命令如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:r <span class="token operator">!</span>date
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这也是一种可以展开想象的使用方法，这里就不再举例了，大家可以自行尝试。</p><h3 id="文本格式转换" tabindex="-1"><a class="header-anchor" href="#文本格式转换" aria-hidden="true">#</a> 文本格式转换</h3><p><code>unix2dos</code> 和 <code>dos2unix</code> 命令可实现文本格式转换的功能。从命令名称即可得知，这两个文本操作命令是在 UNIX 与 DOS 文件格式之间进行数据转换的。在实际应用中，管理员经常会把 Linux 平台上的重要文档放到自己的 Windows 工作站上保存和查看，而这两种平台之间的文本在互相查看的时候可能会因为一些控制符号的存在而使屏幕显得很乱，甚至无法使用。这时就需要用到这两个转换命令。</p><div class="custom-container tip"><p class="custom-container-title">注意</p><p>在默认安装时，<code>dos2unix</code> 和 <code>unix2dos</code> 命令是没有的，需要手工安装。先放入安装光盘，如果是 VMware，则加载一下 ISO 安装镜像，然后挂载光盘。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount /dev/cdrom /mnt/cdrom</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh /mnt/cdrom/Packages/dos2unix-3.1-37.e16.1686.rpm</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh /mnt/cdrom/packages/unix2dos-2.2-35.e16.1686.rpm</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>不同版本的 Linux，以上 RPM 包版本号可能有差别，但方法相同。</p><p>Ubuntu 系统使用的是 <code>todos</code> 和 <code>fromdos</code>，命令的字面意思也很好理解，都在 tofrodos 包里，安装如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@ubuntu ~<span class="token punctuation">]</span><span class="token comment"># sudo apt install tofrodos</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><p>不少人喜欢将 Linux 的 Shell 脚本备份存放在 Windows 个人计算机上，有时会在 Windown 上进行更改，但是再复制到 Linux 中可能就无法执行了。</p><p>在 Windows 文件中，列的结束符号有两个控制字符：一个是归位字符（Carriage Retwm，^M），另一个是换行字符（New Line，^J）；但在 Linux 文件中只使用一个换行字符“\n”（功能同 ^J）。所以，当 Linux 中的文本文件放到 Windows 上用文本编辑器编辑时，会乱成首尾相连的一行。</p><p><code>unix2dos</code> 命令的作用就是把 Linux 中的行尾符号 “n\” 转换成 Windows 中使用的 “^M^J”。命令格式如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># unix2dos 源文件名</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># dos2unix 源文件名</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如下命令可更新 <code>ls.man. txt</code> 文件，再复制到 Windows 中查看就正常了。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># unix2dos ls.man.txt</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>可以想象，<code>dos2unix</code> 命令的作用正好相反，即把 Windows 文档中的行尾符号“^M^J”转换为“^J”。命令格式也相同，如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># dos2unix backup.sh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在 Windows 上编辑后无法执行的 Shell 脚本就是通过上面的命令来解决的。</p><h3 id="vim-的宏记录" tabindex="-1"><a class="header-anchor" href="#vim-的宏记录" aria-hidden="true">#</a> Vim 的宏记录</h3><p>有时候需要对某些行进行相同的改动，如果逐一对每行进行修改则比较麻烦。Vim 提供了非常优秀的宏记录功能，下面举例说明。</p><p>现在有一个文件名列表，如图11-17 所示。</p><div class="custom-container center"><p><img src="/blog/assets/vim@1.49a8fc30.png" alt="vim@1" loading="lazy"></p><p><strong>图11-17 <u>文件名列表</u></strong></p></div><p>假设这是我们所需的库文件名列表，需要将其编辑成如图11-18 所示的格式。</p><div class="custom-container center"><p><img src="/blog/assets/vim@2.f447139e.png" alt="vim@2" loading="lazy"></p><p><strong>图11-18 <u>需要完成的文件格式</u></strong></p></div><p>可以看到，如果行数比较多，那么一行一行地修改会比较麻烦。可以使用宏记录的方式来完成。</p><ol><li>在命令模式中将光标移动到 zhaoyun.h 行的行首，按下 <code>qx</code> 键，其中“q”代表宏记录，“x”代表给宏起的名，可以是任意字符，这时候可以发现，在屏幕左下角会出现“rcording”（或“记录中”）字样，如图11-19 所示。</li></ol><div class="custom-container center"><p><img src="/blog/assets/vim@3.f2ad2cd2.png" alt="vim@3" loading="lazy"></p><p><strong>图11-19 <u>开始进行宏记录</u></strong></p></div><ol start="2"><li>将第一行设置成下图中第一行所示的形式。当修改完成后，接 <kbd>Ese</kbd>键回到命令模式，再按下 <kbd>q</kbd> 键退出宏记录模式，如图11-20 所示。</li></ol><div class="custom-container center"><p><img src="/blog/assets/vim@4.2d7a0c90.png" alt="vim@4" loading="lazy"></p><p><strong>图11-20 <u>完成宏记录</u></strong></p></div><ol start="3"><li>当宏记录完成后，就可以执行它了。执行的方法是将光标移动到需要进行修改的行首，然后执行 <code>@宏名</code> 命令即可。如本例就可以将光标移动到第二行行首，然后执行 <code>@x</code> 命令，其他的行以此类推，最后得到图11-18 所示的效果。</li></ol><h3 id="ab-命令的小技巧" tabindex="-1"><a class="header-anchor" href="#ab-命令的小技巧" aria-hidden="true">#</a> ab 命令的小技巧</h3><p>在 Vim 中可以使用 <code>map</code> 定义快捷键，如输入电子邮箱、通信地址、联系电话……但是定义太多，难以记住，此时可以在编辑模式中使用神奇的 <code>ab</code> 命令。命令格式如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:ab 替代符 原始信息
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>示例如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:ab mymail samlee@itxal.cn
:ab xdl http://mge.itxdl.cn
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>执行之后，在任何地方输入 <code>mymail</code>、<code>xdl</code>，再敲任意非字母，非数字的符号（如句号，逗号等)，或者回车，或者空格，马上就会变成对应的邮箱和网址，非常方便。Linux 的编辑工具当然不止 Vim 一种，如大名鼎痛的 Emacs、类似 DOS 下的 cdit 程序的 Pico、名字很华丽的午夜执行官 MC（Midnight Commander）……不过 Vim 如终是 Linux 平台上默认及应用最为广泛的文本编辑器，是编辑器中的“霸主”。虽然初学时可能应用起来比较吃力，但是一旦用熟，必将爱不释手。</p><h2 id="文本编辑器-nano" tabindex="-1"><a class="header-anchor" href="#文本编辑器-nano" aria-hidden="true">#</a> 文本编辑器 nano</h2><p>nano 是 Linux 中的一款功能非常简单的文本编辑器，该编辑器支持鼠标功能，因此非常容易上手。标准的 Ubuntu 系统默认都安装了nano文本编辑器。</p><p>命令格式：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># nano [选项] 文件名</span>
选项：
	-w	：禁止 <span class="token variable"><span class="token variable">`</span><span class="token function">nano</span><span class="token variable">`</span></span> 自动换行，这个选项在编辑系统配置文件时比较有用，防止因自动换行而对配置文件产生误解
	-m	：启用鼠标支持，开启此选项在使用SSH远程连接时也可以使 <span class="token function">nano</span> 支持鼠标。如果忘了添加 -m 选项，在启动 <span class="token function">nano</span> 后也可以通过快捷键 Alt+M 启用鼠标支持。
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在 <code>nano</code> 打开或新建文件之后，下方有常用快捷键的提示，配合<kbd>Ctrl</kbd>键使用，使用更方便，不用怕忘记命令。如图11-21 所示：</p><div class="custom-container center"><p><img src="/blog/assets/nano.355cb610.png" alt="nano" loading="lazy"></p><p><strong>图11-21 <u>nano 命令打开文件</u></strong></p></div><p><strong>表11-2 <u>nano 命令的常用快捷键及作用</u></strong></p><table><thead><tr><th>按键</th><th>作用</th></tr></thead><tbody><tr><td><kbd>Ctrl</kbd>+<kbd>O</kbd></td><td>保存文件</td></tr><tr><td><kbd>Ctrl</kbd>+<kbd>X</kbd></td><td>退出编辑器</td></tr><tr><td><kbd>Ctrl</kbd>+<kbd>K</kbd></td><td>剪切行</td></tr><tr><td><kbd>Ctrl</kbd>+<kbd>U</kbd></td><td>粘贴</td></tr><tr><td><kbd>Ctrl</kbd>+<kbd>\</kbd></td><td>替换</td></tr><tr><td><kbd>Ctrl</kbd>+<kbd>W</kbd></td><td>查找</td></tr><tr><td><kbd>Ctrl</kbd>+<kbd>G</kbd></td><td>调用帮助菜单</td></tr><tr><td>...</td><td>...</td></tr></tbody></table><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Ryukarin/blog/edit/main/project/Linux/Linux_basic/10.linux_text_edit.md" rel="noopener noreferrer" target="_blank" arialabel="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><nav class="page-nav"><a href="/blog/project/Linux/Linux_basic/09.linux_net.html" class="nav-link prev" arialabel="linux常用网络命令"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->linux常用网络命令</div></a><a href="/blog/project/Linux/Linux_basic/11.linux_soft_install.html" class="nav-link next" arialabel="linux软件安装"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">linux软件安装<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><!----></div><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">MIT Licensed</div><div class="copyright">Copyright © 2022 karin</div></footer></div><!--]--><!----><!--[--><!-- Root element of PhotoSwipe. Must have class pswp. --><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><!-- Background of PhotoSwipe. 
    It’s a separate element, as animating opacity is faster than rgba().--><div class="pswp__bg"></div><!-- Slides wrapper with overflow:hidden. --><div class="pswp__scroll-wrap"><!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. --><div class="pswp__container"><!-- don’t modify these 3 pswp__item elements, data is added later on --><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><!--  Controls are self-explanatory. Order can be changed. --><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="关闭"></button><button class="pswp__button pswp__button--share" title="分享"></button><button class="pswp__button pswp__button--fs" title="切换全屏"></button><button class="pswp__button pswp__button--zoom" title="缩放"></button><!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="上一个 (左箭头)"></button><button class="pswp__button pswp__button--arrow--right" title="下一个 (右箭头)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!--]--><!--]--></div>
    <script type="module" src="/blog/assets/app.893f8b81.js" defer></script>
  </body>
</html>
