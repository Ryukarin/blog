import{_ as n,a as s}from"./app.893f8b81.js";const a={},e=s(`<p>\u5BB9\u5668\u662F Docker \u7684\u53E6 \u4E00\u4E2A\u6838\u5FC3\u6982\u5FF5\u3002\u7B80\u5355\u6765\u8BF4\uFF0C\u5BB9\u5668\u662F\u955C\u50CF\u7684\u4E00\u4E2A\u8FD0\u884C\u5B9E\u4F8B\u3002\u6240\u4E0D\u540C\u7684\u662F\uFF0C\u955C\u50CF\u662F\u9759\u6001\u7684\u53EA\u8BFB\u6587\u4EF6\uFF0C\u800C\u5BB9\u5668\u5E26\u6709\u8FD0\u884C\u65F6\u9700\u8981\u7684\u53EF\u5199\u6587\u4EF6\u5C42\uFF0C\u540C\u65F6\uFF0C\u5BB9\u5668\u4E2D\u7684\u5E94\u7528\u8FDB\u7A0B\u5904\u4E8E\u8FD0\u884C\u72B6\u6001\u3002</p><p>\u5982\u679C\u8BA4\u4E3A\u865A\u62DF\u673A\u662F\u6A21\u62DF\u8FD0\u884C\u7684\u4E00\u6574\u5957\u64CD\u4F5C\u7CFB\u7EDF\uFF08\u5305\u62EC\u5185\u6838\u3001\u5E94\u7528\u8FD0\u884C\u6001\u73AF\u5883\u548C\u5176\u4ED6\u7CFB\u7EDF\u73AF\u5883\uFF09\u548C\u8DD1\u5728\u4E0A\u9762\u7684\u5E94\u7528\u3002\u90A3\u4E48 Docker \u5BB9\u5668\u5C31\u662F\u72EC\u7ACB\u8FD0\u884C\u7684\u4E00\u4E2A\uFF08\u6216\u4E00\u7EC4\uFF09\u5E94\u7528\uFF0C\u4EE5\u53CA\u5B83\u4EEC\u5FC5\u9700\u7684\u8FD0\u884C\u73AF\u5883\u3002</p><p>\u63A5\u4E0B\u6765\u5C06\u5177\u4F53\u4ECB\u7ECD\u56F4\u7ED5\u5BB9\u5668\u7684\u91CD\u8981\u64CD\u4F5C\uFF0C\u5305\u62EC\u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u3001\u542F\u52A8\u5BB9\u5668\u3001\u7EC8\u6B62\u4E00\u4E2A\u5BB9\u5668\u3001\u8FDB\u5165\u5BB9\u5668\u5185\u6267\u884C\u64CD\u4F5C\u3001\u5220\u9664\u5BB9\u5668\u548C\u901A\u8FC7\u5BFC\u4EBA\u5BFC\u51FA\u5BB9\u5668\u6765\u5B9E\u73B0\u5BB9\u5668\u8FC1\u79FB\u7B49\u3002</p><h2 id="\u521B\u5EFA\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u5BB9\u5668" aria-hidden="true">#</a> \u521B\u5EFA\u5BB9\u5668</h2><p>\u4ECE\u73B0\u5728\u5F00\u59CB\uFF0C\u5FD8\u6389\u201C\u6726\u80BF\u201D\u7684\u865A\u62DF\u673A\u5427\uFF0C\u5BF9\u5BB9\u5668\u7684\u64CD\u4F5C\u5C31\u50CF\u76F4\u63A5\u64CD\u4F5C\u5E94\u7528\u4E00\u6837\u7B80\u5355\u548C\u5FEB\u901F\u3002</p><p>\u8FD9\u91CC\u4E3B\u8981\u4ECB\u7ECD Docker \u5BB9\u5668\u7684 <code>create</code>\u3001<code>start</code>\u3001<code>run</code>\u3001<code>wait</code> \u548C <code>logs</code> \u5B50\u547D\u4EE4\u3002</p><h3 id="_1\u3001\u65B0\u5EFA\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u65B0\u5EFA\u5BB9\u5668" aria-hidden="true">#</a> 1\u3001\u65B0\u5EFA\u5BB9\u5668</h3><p>\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] create</code> \u547D\u4EE4\u65B0\u5EFA\u4E00\u4E2A\u5BB9\u5668\uFF0C\u4F8B\u5982\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> container create -it ubuntu:latest
Unable to <span class="token function">find</span> image <span class="token string">&#39;ubuntu:latest&#39;</span> locally
latest: Pulling from library/ubuntu
35807b77a593: Pull complete 
Digest: sha256:9d6a8699fb5c9c39cf08a0871bd6219f0400981c570894cd8cbea30d3424a31f
Status: Downloaded newer image <span class="token keyword">for</span> ubuntu:latest
fcc4e0885754efa016594c98d606dd5666ad751c76884c41685d46715a9a70fc

$ <span class="token function">docker</span> <span class="token function">ps</span> -a
CONTAINER ID   IMAGE           COMMAND   CREATED              STATUS                    PORTS     NAMES
fcc4e0885754   ubuntu:latest   <span class="token string">&quot;bash&quot;</span>    About a minute ago   Created                             gracious_ellis
dba94731dbca   centos          <span class="token string">&quot;bash&quot;</span>    <span class="token number">23</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">23</span> hours ago             romantic_benz
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u4F7F\u7528 <code>docker [container] create</code> \u547D\u4EE4\u65B0\u5EFA\u7684\u5BB9\u5668\u5904\u4E8E\u505C\u6B62\u72B6\u6001\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] start</code> \u547D\u4EE4\u6765\u542F\u52A8\u5B83\u3002</p><p>\u7531\u4E8E\u5BB9\u5668\u662F\u6574\u4E2A Docker \u6280\u672F\u6808\u7684\u6838\u5FC3\uFF0C<code>create</code> \u547D\u4EE4\u548C\u540E\u7EED\u7684 <code>run</code> \u547D\u4EE4\u652F\u6301\u7684\u9009\u9879\u90FD\u5341\u5206\u590D\u6742\uFF0C\u9700\u8981\u4F60\u5728\u5B9E\u8DF5\u4E2D\u4E0D\u65AD\u4F53\u4F1A\u3002</p><p>\u9009\u9879\u4E3B\u8981\u5305\u62EC\u5982\u4E0B\u51E0\u5927\u7C7B\uFF1A\u4E0E\u5BB9\u5668\u8FD0\u884C\u6A21\u5F0F\u76F8\u5173\u3001\u4E0E\u5BB9\u5668\u73AF\u5883\u914D\u7F6E\u76F8\u5173\u3001\u4E0E\u5BB9\u5668\u8D44\u6E90\u9650\u5236\u548C\u5B89\u5168\u4FDD\u62A4\u76F8\u5173\uFF0C\u53C2\u89C1\u8868 4-1 \u548C\u8868 4-3\u3002</p><p><u>\u88684-1</u> create \u547D\u4EE4\u4E0E\u5BB9\u5668\u8FD0\u884C\u6A21\u5F0F\u76F8\u5173\u7684\u9009\u9879</p><table><thead><tr><th>\u9009\u9879</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>-a\uFF0C--attach=[ ]</td><td>\u662F\u5426\u7ED1\u5B9A\u5230\u6807\u51C6\u8F93\u5165\u3001\u8F93\u51FA\u548C\u9519\u8BEF</td></tr><tr><td>-d\uFF0C--detach=true|false</td><td>\u662F\u5426\u5728\u540E\u53F0\u8FD0\u884C\u5BB9\u5668\uFF0C\u9ED8\u8BA4\u4E3A\u5426</td></tr><tr><td>--detach-keys=&quot; &quot;</td><td>\u4ECE attach \u6A21\u5F0F\u9000\u51FA\u7684\u5FEB\u6377\u952E</td></tr><tr><td>--entrypoint=&quot; &quot;</td><td>\u955C\u50CF\u5B58\u5728\u5165\u53E3\u547D\u4EE4\u65F6\uFF0C\u8986\u76D6\u4E3A\u65B0\u7684\u547D\u4EE4</td></tr><tr><td>--expose=[ ]</td><td>\u6307\u5B9A\u5BB9\u5668\u4F1A\u66B4\u9732\u51FA\u6765\u7684\u7AEF\u53E3\u6216\u7AEF\u53E3\u8303\u56F4</td></tr><tr><td>--group-add=[ ]</td><td>\u8FD0\u884C\u5BB9\u5668\u7684\u7528\u6237\u7EC4</td></tr><tr><td>-i\uFF0C--interactive=true|false</td><td>\u4FDD\u6301\u6807\u51C6\u8F93\u5165\u6253\u5F00\uFF0C\u9ED8\u8BA4\u4E3A false</td></tr><tr><td>--ipc=&quot; &quot;</td><td>\u5BB9\u5668 IPC \u547D\u540D\u7A7A\u95F4\uFF0C\u53EF\u4EE5\u4E3A\u5176\u4ED6\u5BB9\u5668\u6216\u4E3B\u673A</td></tr><tr><td>--isolation=&quot;default&quot;</td><td>\u5BB9\u5668\u4F7F\u7528\u7684\u9694\u79BB\u673A\u5236</td></tr><tr><td>--log-driver=&quot;json-file&quot;</td><td>\u6307\u5B9A\u5BB9\u5668\u7684\u65E5\u5FD7\u9A71\u52A8\u7C7B\u578B\uFF0C\u53EF\u4EE5\u4E3A json-file\u3001syslog\u3001journald\u3001gelf\u3001fluentd\u3001awslogs\u3001splunk\u3001etwlogs\u3001gcplogs\u6216none</td></tr><tr><td>--log-opt=[ ]</td><td>\u4F20\u9012\u7ED9\u65E5\u5FD7\u9A71\u52A8\u7684\u9009\u9879</td></tr><tr><td>--net=&quot;bridge&quot;</td><td>\u6307\u5B9A\u5BB9\u5668\u7F51\u7EDC\u6A21\u5F0F\uFF0C\u5305\u62EC bridge\u3001none\u3001\u5176\u4ED6\u5BB9\u5668\u5185\u7F51\u7EDC\u3001host \u7684\u7F51\u7EDC\u6216\u67D0\u4E2A\u73B0\u6709\u7F51\u7EDC\u7B49</td></tr><tr><td>--net-alias=[ ]</td><td>\u5BB9\u5668\u5728\u7F51\u7EDC\u4E2D\u7684\u522B\u540D</td></tr><tr><td>-P\uFF0C--publish-all=true|false</td><td>\u901A\u8FC7 NAT \u673A\u5236\u5C06\u5BB9\u5668\u6807\u8BB0\u66B4\u9732\u7684\u7AEF\u53E3\u81EA\u52A8\u6620\u5C04\u5230\u672C\u5730\u4E3B\u673A\u7684\u4E34\u65F6\u7AEF\u53E3</td></tr><tr><td>-p\uFF0C--publishs=[ ]</td><td>\u6307\u5B9A\u5982\u4F55\u6620\u5C04\u5230\u672C\u5730\u4E3B\u673A\u7AEF\u53E3\uFF0C\u4F8B\u5982 -p 11234-12234:1234-2234</td></tr><tr><td>--pid=host</td><td>\u5BB9\u5668\u7684 PID \u547D\u540D\u7A7A\u95F4</td></tr><tr><td>--userns=&quot; &quot;</td><td>\u542F\u7528 userns-remap \u65F6\u914D\u7F6E\u7528\u6237\u547D\u540D\u7A7A\u95F4\u7684\u6A21\u5F0F</td></tr><tr><td>--uts=host</td><td>\u5BB9\u5668\u7684 UTS \u547D\u540D\u7A7A\u95F4</td></tr><tr><td>--restart=&quot;no&quot;</td><td>\u5BB9\u5668\u7684\u91CD\u542F\u7B56\u7565\uFF0C\u5305\u62EC no\u3001on-failure[:max-retry]\u3001always\u3001unless-stopped \u7B49</td></tr><tr><td>-rm=true|false</td><td>\u5BB9\u5668\u9000\u51FA\u540E\u662F\u5426\u81EA\u52A8\u5220\u9664\uFF0C\u4E0D\u80FD\u8DDF -d \u540C\u65F6\u4F7F\u7528</td></tr><tr><td>-t\uFF0C--tty=true|false</td><td>\u662F\u5426\u5206\u914D\u4E00\u4E2A\u4F2A\u7EC8\u7AEF\uFF0C\u9ED8\u8BA4\u4E3A false</td></tr><tr><td>--tmpfs=[ ]</td><td>\u6302\u8F7D\u4E34\u65F6\u6587\u4EF6\u7CFB\u7EDF\u5230\u5BB9\u5668</td></tr><tr><td>-v|--volume[=[[HOST-DIR:]CONTAINER-DIR [:OPTIONS]]]</td><td>\u6302\u8F7D\u4E3B\u673A\u4E0A\u7684\u6587\u4EF6\u5377\u5230\u5BB9\u5668\u5185</td></tr><tr><td>--volume-driver=&quot; &quot;</td><td>\u6302\u8F7D\u6587\u4EF6\u5377\u7684\u9A71\u52A8\u7C7B\u578B</td></tr><tr><td>--volumes-from=[ ]</td><td>\u4ECE\u5176\u4ED6\u5BB9\u5668\u6302\u8F7D\u5377</td></tr><tr><td>-w\uFF0C--workdir=&quot; &quot;</td><td>\u5BB9\u5668\u5185\u7684\u9ED8\u8BA4\u5DE5\u4F5C\u76EE\u5F55</td></tr></tbody></table><p><u>\u8868 4-2</u> create \u547D\u4EE4\u4E0E\u5BB9\u5668\u73AF\u5883\u548C\u914D\u7F6E\u76F8\u5173\u7684\u9009\u9879</p><table><thead><tr><th>\u9009\u9879</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>--add-host=[ ]</td><td>\u5728\u5BB9\u5668\u5185\u6DFB\u52A0\u4E00\u4E2A\u4E3B\u673A\u540D\u5230 IP \u5730\u5740\u7684\u6620\u5C04\u5173\u7CFB\uFF08\u901A\u8FC7 /etc/hosts \u6587\u4EF6\uFF09</td></tr><tr><td>--device=[ ]</td><td>\u6620\u5C04\u7269\u7406\u673A\u4E0A\u7684\u8BBE\u5907\u5230\u5BB9\u5668\u5185</td></tr><tr><td>--dns-search=[ ]</td><td>DNS \u641C\u7D22\u57DF</td></tr><tr><td>--dns-opt=[ ]</td><td>\u81EA\u5B9A\u4E49\u7684 DNS \u9009\u9879</td></tr><tr><td>--dns=[ ]</td><td>\u81EA\u5B9A\u4E49\u7684 DNS \u670D\u52A1\u5668</td></tr><tr><td>-e\uFF0C--env=[ ]</td><td>\u6307\u5B9A\u5BB9\u5668\u5185\u73AF\u5883\u53D8\u91CF</td></tr><tr><td>--env-file=[ ]</td><td>\u4ECE\u6587\u4EF6\u4E2D\u8BFB\u53D6\u73AF\u5883\u53D8\u91CF\u5230\u5BB9\u5668\u5185</td></tr><tr><td>-h\uFF0C--hostname=&quot; &quot;</td><td>\u6307\u5B9A\u5BB9\u5668\u5185\u7684\u4E3B\u673A\u540D</td></tr><tr><td>--ip=&quot; &quot;</td><td>\u6307\u5B9A\u5BB9\u5668\u7684 IPv4 \u5730\u5740</td></tr><tr><td>--ip6=&quot; &quot;</td><td>\u6307\u5B9A\u5BB9\u5668\u7684 IPv6 \u5730\u5740</td></tr><tr><td>--link=[&lt;name or id&gt;:alias]</td><td>\u94FE\u63A5\u5230\u5176\u4ED6\u5BB9\u5668</td></tr><tr><td>--link-local-ip=[ ]:</td><td>\u5BB9\u5668\u7684\u672C\u5730\u94FE\u63A5\u5730\u5740\u5217\u8868</td></tr><tr><td>--mac-address=&quot; &quot;</td><td>\u6307\u5B9A\u5BB9\u5668\u7684 Mac \u5730\u5740</td></tr><tr><td>--name=&quot; &quot;</td><td>\u6307\u5B9A\u5BB9\u5668\u7684\u522B\u540D</td></tr></tbody></table><p><u>\u8868 4-3</u> create \u547D\u4EE4\u4E0E\u5BB9\u5668\u8D44\u6E90\u9650\u5236\u548C\u5B89\u5168\u4FDD\u62A4\u76F8\u5173\u7684\u9009\u9879</p><table><thead><tr><th>\u9009\u9879</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>--blkio-weight=10~1000</td><td>\u5BB9\u5668\u8BFB\u5199\u5757\u8BBE\u5907\u7684 I/O \u6027\u80FD\u6743\u91CD\uFF0C\u9ED8\u8BA4\u4E3A 0</td></tr><tr><td>--blkio-weight-device=[DEVICE_NAME:WEIGHT]</td><td>\u6307\u5B9A\u5404\u4E2A\u5757\u8BBE\u5907\u7684 I/O \u6027\u80FD\u6743\u91CD</td></tr><tr><td>--cpu-shares=0</td><td>\u5141\u8BB8\u5BB9\u5668\u4F7F\u7528 CPU \u8D44\u6E90\u7684\u76F8\u5BF9\u6743\u91CD\uFF0C\u9ED8\u8BA4\u4E00\u4E2A\u5BB9\u5668\u80FD\u7528\u6EE1\u4E00\u4E2A\u6838\u7684 CPU</td></tr><tr><td>--cap-add=[ ]</td><td>\u589E\u52A0\u5BB9\u5668\u7684 Linux \u6307\u5B9A\u5B89\u5168\u80FD\u529B</td></tr><tr><td>--cap-drop=[ ]</td><td>\u79FB\u9664\u5BB9\u5668\u7684 Linux \u6307\u5B9A\u5B89\u5168\u80FD\u529B</td></tr><tr><td>--cgroup-parent=&quot; &quot;</td><td>\u5BB9\u5668 cgroups \u9650\u5236\u7684\u521B\u5EFA\u8DEF\u5F84</td></tr><tr><td>--cidfile=&quot; &quot;</td><td>\u6307\u5B9A\u5BB9\u5668\u7684\u8FDB\u7A0B ID \u53F7\u5199\u5230\u6587\u4EF6</td></tr><tr><td>--cpu-period=0</td><td>\u9650\u5236\u5BB9\u5668\u5728 CFS \u8C03\u5EA6\u5668\u4E0B\u7684 CPU \u5360\u7528\u65F6\u95F4\u7247</td></tr><tr><td>--cpuset-cpus=&quot; &quot;</td><td>\u9650\u5236\u5BB9\u5668\u80FD\u4F7F\u7528\u54EA\u4E9B CPU \u6838\u5FC3</td></tr><tr><td>--cpuset-mems=&quot; &quot;</td><td>NUMA \u67B6\u6784\u4E0B\u4F7F\u7528\u54EA\u4E9B\u6838\u5FC3\u7684\u5185\u5B58</td></tr><tr><td>--cpu-quota=0</td><td>\u9650\u5236\u5BB9\u5668\u5728 CFS \u8C03\u5EA6\u5668\u4E0B\u7684 CPU \u914D\u989D</td></tr><tr><td>--device-read-bps=[ ]</td><td>\u6302\u8F7D\u8BBE\u5907\u7684\u8BFB\u541E\u5410\u7387\uFF08\u4EE5 bps \u4E3A\u5355\u4F4D\uFF09\u9650\u5236</td></tr><tr><td>--device-write-bps=[ ]</td><td>\u6302\u8F7D\u8BBE\u5907\u7684\u5199\u541E\u5410\u7387\uFF08\u4EE5 bps \u4E3A\u5355\u4F4D\uFF09\u9650\u5236</td></tr><tr><td>--device-read-iops=[ ]</td><td>\u6302\u8F7D\u8BBE\u5907\u7684\u8BFB\u901F\u7387\uFF08\u4EE5\u6BCF\u79D2 i/o \u6B21\u6570\u4E3A\u5355\u4F4D\uFF09\u9650\u5236</td></tr><tr><td>--device-write-iops=[ ]</td><td>\u6302\u8F7D\u8BBE\u5907\u7684\u5199\u901F\u7387\uFF08\u4EE5\u6BCF\u79D2 i/o \u6B21\u6570\u4E3A\u5355\u4F4D\uFF09\u9650\u5236</td></tr><tr><td>--health-cmd=&quot; &quot;</td><td>\u6307\u5B9A\u68C0\u67E5\u5BB9\u5668\u5065\u5EB7\u72B6\u6001\u7684\u547D\u4EE4</td></tr><tr><td>--health-interval=0s</td><td>\u6267\u884C\u5065\u5EB7\u68C0\u67E5\u7684\u95F4\u9694\u65F6\u95F4\uFF0C\u5355\u4F4D\u53EF\u4EE5\u4E3A ms\u3001s\u3001m \u6216 h</td></tr><tr><td>--health-retries=int</td><td>\u5065\u5EB7\u68C0\u67E5\u5931\u8D25\u91CD\u8BD5\u6B21\u6570\uFF0C\u8D85\u8FC7\u5219\u8BA4\u4E3A\u4E0D\u5065\u5EB7</td></tr><tr><td>--health-start-period=0s</td><td>\u5BB9\u5668\u542F\u52A8\u540E\u8FDB\u884C\u5065\u5EB7\u68C0\u67E5\u7684\u7B49\u5F85\u65F6\u95F4\uFF0C\u5355\u4F4D\u53EF\u4EE5\u4E3A ms\u3001s\u3001m \u6216 h</td></tr><tr><td>--health-timeout=0s</td><td>\u5065\u5EB7\u68C0\u67E5\u7684\u6267\u884C\u8D85\u65F6\uFF0C\u5355\u4F4D\u53EF\u4EE5\u4E3A ms\u3001s\u3001m \u6216 h</td></tr><tr><td>--no-healthcheck=true|false</td><td>\u662F\u5426\u7981\u7528\u5065\u5EB7\u68C0\u67E5</td></tr><tr><td>--init</td><td>\u5728\u5BB9\u5668\u4E2D\u6267\u884C\u4E00\u4E2A init \u8FDB\u7A0B\uFF0C\u6765\u8D1F\u8D23\u54CD\u5E94\u4FE1\u53F7\u548C\u5904\u7406\u50F5\u5C38\u72B6\u6001\u5B50\u8FDB\u7A0B</td></tr><tr><td>--kernel-memory=&quot; &quot;</td><td>\u9650\u5236\u5BB9\u5668\u4F7F\u7528\u5185\u6838\u7684\u5185\u5B58\u5927\u5C0F\uFF0C\u5355\u4F4D\u53EF\u4EE5\u662F b\u3001k\u3001m \u6216 g</td></tr><tr><td>-m\uFF0C--memory=&quot; &quot;</td><td>\u9650\u5236\u5BB9\u5668\u5185\u5E94\u7528\u4F7F\u7528\u7684\u5185\u5B58\uFF0C\u5355\u4F4D\u53EF\u4EE5\u662F b\u3001k\u3001m \u6216 g</td></tr><tr><td>--memory-reservation=&quot; &quot;</td><td>\u5F53\u7CFB\u7EDF\u4E2D\u5185\u5B58\u8FC7\u4F4E\u65F6\uFF0C\u5BB9\u5668\u4F1A\u88AB\u5F3A\u5236\u9650\u5236\u5185\u5B58\u5230\u7ED9\u5B9A\u503C\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u7B49\u4E8E\u5185\u5B58\u9650\u5236\u503C</td></tr><tr><td>--memory-swap=&quot;LIMIT&quot;</td><td>\u9650\u5236\u5BB9\u5668\u4F7F\u7528\u5185\u5B58\u548C\u4EA4\u6362\u533A\u7684\u603B\u5927\u5C0F</td></tr><tr><td>--oom-kill-disable=true|false</td><td>\u5185\u5B58\u8017\u5C3D\u65F6\u662F\u5426\u6740\u6B7B\u5BB9\u5668</td></tr><tr><td>--oom-score-adj=&quot; &quot;</td><td>\u8C03\u6574\u5BB9\u5668\u7684\u5185\u5B58\u8017\u5C3D\u53C2\u6570</td></tr><tr><td>--pids-limit=&quot; &quot;</td><td>\u9650\u5236\u5BB9\u5668\u7684 pid \u4E2A\u6570</td></tr><tr><td>--privileged=true|false</td><td>\u662F\u5426\u7ED9\u5BB9\u5668\u9AD8\u6743\u9650\uFF0C\u8FD9\u610F\u5473\u7740\u5BB9\u5668\u5185\u5E94\u7528\u5C06\u4E0D\u53D7\u6743\u9650\u7684\u9650\u5236\uFF0C\u4E00\u822C\u4E0D\u63A8\u8350</td></tr><tr><td>--read-only=true|false</td><td>\u662F\u5426\u8BA9\u5BB9\u5668\u5185\u7684\u6587\u4EF6\u7CFB\u7EDF\u53EA\u8BFB</td></tr><tr><td>--security-opt=[ ]</td><td>\u6307\u5B9A\u4E00\u4E9B\u5B89\u5168\u53C2\u6570\uFF0C\u5305\u62EC\u6743\u9650\u3001\u5B89\u5168\u80FD\u529B\u3001apparmor \u7B49</td></tr><tr><td>--stop-signal=SIGTERM</td><td>\u6307\u5B9A\u505C\u6B62\u5BB9\u5668\u7684\u7CFB\u7EDF\u4FE1\u53F7</td></tr><tr><td>--gshm-size=&quot; &quot;</td><td>/dev/shm\u7684\u5927\u5C0F</td></tr><tr><td>--gsig-proxy=true|false</td><td>\u662F\u5426\u4EE3\u7406\u6536\u5230\u7684\u4FE1\u53F7\u7ED9\u5E94\u7528\uFF0C\u9ED8\u8BA4\u4E3A true\uFF0C\u4E0D\u80FD\u4EE3\u7406 SIGCHLD\u3001SIGSTOP \u548C SIGKILL \u4FE1\u53F7</td></tr><tr><td>--memory-swappiness=&quot;0~100&quot;</td><td>\u8C03\u6574\u5BB9\u5668\u7684\u5185\u5B58\u4EA4\u6362\u533A\u53C2\u6570</td></tr><tr><td>-u\uFF0C--user=&quot; &quot;</td><td>\u6307\u5B9A\u5728\u5BB9\u5668\u5185\u6267\u884C\u547D\u4EE4\u7684\u7528\u6237\u4FE1\u606F</td></tr><tr><td>--userns=&quot; &quot;</td><td>\u6307\u5B9A\u7528\u6237\u547D\u540D\u7A7A\u95F4</td></tr><tr><td>--ulimit=[ ]</td><td>\u901A\u8FC7 ulimit \u6765\u9650\u5236\u6700\u5927\u6587\u4EF6\u6570\u3001\u6700\u5927\u8FDB\u7A0B\u6570\u7B49</td></tr></tbody></table><p>\u5176\u4ED6\u9009\u9879\u8FD8\u5305\u62EC\uFF1A</p><ul><li>-l\uFF0C--label=[ ]\uFF1A\u4EE5\u952E\u503C\u5BF9\u65B9\u5F0F\u6307\u5B9A\u5BB9\u5668\u7684\u6807\u7B7E\u4FE1\u606F\uFF1B</li><li>--label-file=[ ]\uFF1A\u4ECE\u6587\u4EF6\u4E2D\u8BFB\u53D6\u6807\u7B7E\u4FE1\u606F\u3002</li></ul><h3 id="_2\u3001\u542F\u52A8\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u542F\u52A8\u5BB9\u5668" aria-hidden="true">#</a> 2\u3001\u542F\u52A8\u5BB9\u5668</h3><p>\u4F7F\u7528 <code>docker [container] start</code> \u547D\u4EE4\u6765\u542F\u52A8\u4E00\u4E2A\u5DF2\u7ECF\u521B\u5EFA\u7684\u5BB9\u5668\u3002\u4F8B\u5982\uFF0C\u542F\u52A8\u521A\u521B\u5EFA\u7684 ubuntu \u5BB9\u5668\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> start fcc
fcc
<span class="token comment"># \u542F\u52A8ID\u4E3Afcc\u5F00\u5934\u7684\u5BB9\u5668\uFF08\u5F00\u5934\u4E3A fcc \u7684 ID \uFF0C\u786E\u4FDD\u53EF\u4EE5\u786E\u5B9A\u662F\u54EA\u4E00\u4E2A\u5BB9\u5668\uFF09</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u6B64\u65F6\uFF0C\u901A\u8FC7 <code>docker ps</code> \u547D\u4EE4\uFF0C\u53EF\u4EE5\u67E5\u770B\u5230\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token function">ps</span> 
CONTAINER ID   IMAGE           COMMAND   CREATED       STATUS              PORTS     NAMES
fcc4e0885754   ubuntu:latest   <span class="token string">&quot;bash&quot;</span>    <span class="token number">3</span> hours ago   Up About a minute             gracious_ellis
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_3\u3001\u65B0\u5EFA\u4E95\u542F\u52A8\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u65B0\u5EFA\u4E95\u542F\u52A8\u5BB9\u5668" aria-hidden="true">#</a> 3\u3001\u65B0\u5EFA\u4E95\u542F\u52A8\u5BB9\u5668</h3><p>\u9664\u4E86\u521B\u5EFA\u5BB9\u5668\u540E\u901A\u8FC7 <code>start</code> \u547D\u4EE4\u6765\u542F\u52A8\uFF0C\u4E5F\u53EF\u4EE5\u76F4\u63A5\u65B0\u5EFA\u5E76\u542F\u52A8\u5BB9\u5668\u3002</p><p>\u6240\u9700\u8981\u7684\u547D\u4EE4\u4E3B\u8981\u4E3A <code>docker [container] run</code> \u547D\u4EE4\uFF0C\u7B49\u4EF7\u4E8E\u5148\u6267\u884C <code>docker [container] create</code> \u547D\u4EE4\uFF0C\u518D\u6267\u884C <code>docker [container] start</code>\u3002</p><p>\u4F8B\u5982\uFF0C\u4E0B\u9762\u7684\u547D\u4EE4\u8F93\u51FA \u4E00\u4E2A\u201CHello World\u201C\uFF0C\u4E4B\u540E\u5BB9\u5668\u81EA\u52A8\u7EC8\u6B62\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> run ubuntu /bin/echo <span class="token string">&#39;Hello world&#39;</span>
Hello world
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u8FD9\u8DDF\u5728\u672C\u5730\u76F4\u63A5\u6267\u884C <code>/bin/echo &#39;hello world&#39;</code> \u76F8\u6BD4\u51E0\u4E4E\u611F\u89C9\u4E0D\u51FA\u4EFB\u4F55\u533A\u522B\u3002</p><p>\u5F53\u5229\u7528 <code>docker [container] run</code> \u6765\u521B\u5EFA\u5E76\u542F\u52A8\u5BB9\u5668\u65F6\uFF0CDocker \u5728\u540E\u53F0\u8FD0\u884C\u7684\u6807\u51C6\u64CD\u4F5C\u5305\u62EC\uFF1A</p><ul><li><p>\u68C0\u67E5\u672C\u5730\u662F\u5426\u5B58\u5728\u6307\u5B9A\u7684\u955C\u50CF\uFF0C\u4E0D\u5B58\u5728\u5C31\u4ECE\u516C\u6709\u4ED3\u5E93\u4E0B\u8F7D\uFF1B</p></li><li><p>\u5229\u7528\u955C\u50CF\u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\uFF0C\u5E76\u542F\u52A8\u8BE5\u5BB9\u5668\uFF1B</p></li><li><p>\u5206\u914D\u4E00\u4E2A\u6587\u4EF6\u7CFB\u7EDF\u7ED9\u5BB9\u5668\uFF0C\u5E76\u5728\u53EA\u8BFB\u7684\u955C\u50CF\u5C42\u5916\u9762\u6302\u8F7D\u4E00\u5C42\u53EF\u8BFB\u5199\u5C42\uFF1B</p></li><li><p>\u4ECE\u5BBF\u4E3B\u4E3B\u673A\u914D\u7F6E\u7684\u7F51\u6865\u63A5\u53E3\u4E2D\u6865\u63A5\u4E00\u4E2A\u865A\u62DF\u63A5\u53E3\u5230\u5BB9\u5668\u4E2D\u53BB\uFF1B</p></li><li><p>\u4ECE\u7F51\u6865\u7684\u5730\u5740\u6C60\u914D\u7F6E\u4E00\u4E2A IP \u5730\u5740\u7ED9\u5BB9\u5668\uFF1B</p></li><li><p>\u6267\u884C\u7528\u6237\u6307\u5B9A\u7684\u5E94\u7528\u7A0B\u5E8F\uFF1B</p></li><li><p>\u6267\u884C\u5B8C\u6BD5\u540E\u5BB9\u5668\u88AB\u81EA\u52A8\u7EC8\u6B62 \u3002</p></li></ul><p>\u4E0B\u9762\u7684\u547D\u4EE4\u542F\u52A8\u4E00\u4E2A bash \u7EC8\u7AEF\uFF0C\u5141\u8BB8\u7528\u6237\u8FDB\u884C\u4EA4\u4E92\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> run -it ubuntu:18.04 /bin/bash
root@b76dabdabb3f:/<span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5176\u4E2D\uFF0C-t \u9009\u9879\u8BA9 Docker \u5206\u914D\u4E00\u4E2A\u4F2A\u7EC8\u7AEF\uFF08pseudo-tty\uFF09\u5E76\u7ED1\u5B9A\u5230\u5BB9\u5668\u7684\u6807\u51C6\u8F93\u5165\u4E0A\uFF0C-i \u5219\u8BA9\u5BB9\u5668\u7684\u6807\u51C6\u8F93\u5165\u4FDD\u6301\u6253\u5F00\u3002\u66F4\u591A\u7684\u547D\u4EE4\u9009\u9879\u53EF\u4EE5\u901A\u8FC7 <code>man docker-run</code> \u547D\u4EE4\u6765\u67E5\u770B\u3002</p><p>\u5728\u4EA4\u4E92\u6A21\u5F0F\u4E0B\uFF0C\u7528\u6237\u53EF\u4EE5\u901A\u8FC7\u6240\u521B\u5EFA\u7684\u7EC8\u7AEF\u6765\u8F93\u4EBA\u547D\u4EE4\uFF0C\u4F8B\u5982\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@b76dabdabb3f:/<span class="token comment"># pwd</span>
/
root@b76dabdabb3f:/<span class="token comment"># ls</span>
bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
root@b76dabdabb3f:/<span class="token comment"># ps</span>
  PID TTY          TIME CMD
    <span class="token number">1</span> pts/0    00:00:00 <span class="token function">bash</span>
   <span class="token number">11</span> pts/0    00:00:00 <span class="token function">ps</span>
root@b76dabdabb3f:/<span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u5728\u5BB9\u5668\u5185\u7528 <code>ps</code> \u547D\u4EE4\u67E5\u770B\u8FDB\u7A0B\uFF0C\u53EF\u4EE5\u770B\u5230\uFF0C\u53EA\u8FD0\u884C\u4E86 bash \u5E94\u7528\uFF0C\u5E76\u6CA1\u6709\u8FD0\u884C\u5176\u4ED6\u65E0\u5173\u7684\u8FDB\u7A0B\u3002\u7528\u6237\u53EF\u4EE5\u6309 <kbd>Ctrl</kbd>+<kbd>D</kbd> \u6216\u8F93\u5165 <code>exit</code> \u547D\u4EE4\u6765\u9000\u51FA\u5BB9\u5668\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@b76dabdabb3f:/<span class="token comment"># exit</span>
<span class="token builtin class-name">exit</span>
$ 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u5BF9\u4E8E\u6240\u521B\u5EFA\u7684 bash \u5BB9\u5668\uFF0C\u5F53\u7528\u6237\u4F7F\u7528 <code>exit</code> \u547D\u4EE4\u9000\u51FA bash \u8FDB\u7A0B\u4E4B\u540E\uFF0C\u5BB9\u5668\u4E5F\u4F1A\u81EA\u52A8\u9000\u51FA\u3002\u8FD9\u662F\u56E0\u4E3A\u5BF9\u4E8E\u5BB9\u5668\u6765\u8BF4\uFF0C\u5F53\u5176\u4E2D\u7684\u5E94\u7528\u9000\u51FA\u540E\uFF0C\u5BB9\u5668\u7684\u4F7F\u547D\u5B8C\u6210\uFF0C\u4E5F\u5C31\u6CA1\u6709\u7EE7\u7EED\u8FD0\u884C\u7684\u5FC5\u8981\u4E86\u3002</p><p>\u53EF\u4EE5\u4F7F\u7528 <code>docker container wait CONTAINER [CONTAINER...]</code> \u5B50\u547D\u4EE4\u6765\u7B49\u5F85\u5BB9\u5668\u9000\u51FA\uFF0C\u5E76\u6253\u5370\u9000\u51FA\u8FD4\u56DE\u7ED3\u679C\u3002</p><p>\u67D0\u4E9B\u65F6\u5019\uFF0C\u6267\u884C <code>docker [container] run</code> \u7684\u65F6\u5019\u56E0\u4E3A\u547D\u4EE4\u65E0\u6CD5\u6B63\u5E38\u6267\u884C\u5BB9\u5668\u4F1A\u51FA\u9519\u76F4\u63A5\u9000\u51FA\uFF0C\u6B64\u65F6\u53EF\u4EE5\u67E5\u770B\u9000\u51FA\u7684\u9519\u8BEF\u4EE3\u7801\u3002</p><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5E38\u89C1\u9519\u8BEF\u4EE3\u7801\u5305\u62EC\uFF1A</p><ul><li><p>125\uFF1ADocker daemon \u6267\u884C\u51FA\u9519\uFF0C\u4F8B\u5982\u6307\u5B9A\u4E86\u4E0D\u652F\u6301\u7684 Docker \u547D\u4EE4\u53C2\u6570\uFF1B</p></li><li><p>126\uFF1A\u6240\u6307\u5B9A\u547D\u4EE4\u65E0\u6CD5\u6267\u884C\uFF0C\u4F8B\u5982\u6743\u9650\u51FA\u9519\uFF1B</p></li><li><p>127\uFF1A\u5BB9\u5668\u5185\u547D\u4EE4\u65E0\u6CD5\u627E\u5230\u3002</p></li></ul><p>\u547D\u4EE4\u6267\u884C\u540E\u51FA\u9519\uFF0C\u4F1A\u9ED8\u8BA4\u8FD4\u56DE\u547D\u4EE4\u7684\u9000\u51FA\u9519\u8BEF\u7801\u3002</p><h3 id="_4\u3001\u5B88\u62A4\u6001\u8FD0\u884C" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5B88\u62A4\u6001\u8FD0\u884C" aria-hidden="true">#</a> 4\u3001\u5B88\u62A4\u6001\u8FD0\u884C</h3><p>\u66F4\u591A\u7684\u65F6\u5019\uFF0C\u9700\u8981\u8BA9 Docker \u5BB9\u5668\u5728\u540E\u53F0\u4EE5\u5B88\u62A4\u6001\uFF08Daemonized\uFF09\u5F62\u5F0F\u8FD0\u884C\u3002\u6B64\u65F6\uFF0C\u53EF\u4EE5 \u901A\u8FC7\u6DFB\u52A0 -d \u53C2\u6570\u6765\u5B9E\u73B0\u3002</p><p>\u4F8B\u5982\uFF0C\u4E0B\u9762\u7684\u547D\u4EE4\u4F1A\u5728\u540E\u53F0\u8FD0\u884C\u5BB9\u5668\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> run -d ubuntu /bin/sh -c <span class="token string">&quot;while true; do echo hello world; sleep 1; done&quot;</span>
3bbfb70ef02e07b81229d56259d07c0bd75bb62128c4cef3a81a09c08a920ff9
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5BB9\u5668\u542F\u52A8\u540E\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u552F\u4E00\u7684 id\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7 <code>docker ps</code> \u6216 <code>docker container ls</code> \u547D\u4EE4\u6765\u67E5\u770B\u5BB9\u5668\u4FE1\u606F\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE           COMMAND                  CREATED              STATUS              PORTS     NAMES
3bbfb70ef02e   ubuntu          <span class="token string">&quot;/bin/sh -c &#39;while t\u2026&quot;</span>   About a minute ago  Up About a minute             beautiful_ganguly
fcc4e0885754   ubuntu:latest   <span class="token string">&quot;bash&quot;</span>                   <span class="token number">4</span> hours ago          Up <span class="token number">2</span> hours                    gracious_ellis
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_5\u3001\u67E5\u770B\u5BB9\u5668\u8F93\u51FA" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u67E5\u770B\u5BB9\u5668\u8F93\u51FA" aria-hidden="true">#</a> 5\u3001\u67E5\u770B\u5BB9\u5668\u8F93\u51FA</h3><p>\u8981\u83B7\u53D6\u5BB9\u5668\u7684\u8F93\u51FA\u4FE1\u606F\uFF0C\u53EF\u4EE5\u901A\u8FC7 <code>docker [container] logs</code> \u547D\u4EE4\u3002</p><p>\u8BE5\u547D\u4EE4\u652F\u6301\u7684\u9009\u9879\u5305\u62EC\uFF1A</p><ul><li><p>-details\uFF1A\u6253\u5370\u8BE6\u7EC6\u4FE1\u606F\uFF1B</p></li><li><p>-f\uFF0C-follow\uFF1A\u6301\u7EED\u4FDD\u6301\u8F93\u51FA\uFF1B</p></li><li><p>-since string\uFF1A\u8F93\u51FA\u4ECE\u67D0\u4E2A\u65F6\u95F4\u5F00\u59CB\u7684\u65E5\u5FD7\uFF1B</p></li><li><p>-tail string\uFF1A\u8F93\u51FA\u6700\u8FD1\u7684\u82E5\u5E72\u65E5\u5FD7\uFF1B</p></li><li><p>-t\uFF0Ctimestamps\uFF1A\u663E\u793A\u65F6\u95F4\u6233\u4FE1\u606F\uFF1B</p></li><li><p>-until string\uFF1A\u8F93\u51FA\u67D0\u4E2A\u65F6\u95F4\u4E4B\u524D\u7684\u65E5\u5FD7\u3002</p></li></ul><p>\u4F8B\u5982\uFF0C\u67E5\u770B\u67D0\u5BB9\u5668\u7684\u8F93\u51FA\u53EF\u4EE5\u4F7F\u7528\u5982\u4E0B\u547D\u4EE4\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> logs 3bbfb70ef02e
hello world
hello world
hello world
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="\u505C\u6B62\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u505C\u6B62\u5BB9\u5668" aria-hidden="true">#</a> \u505C\u6B62\u5BB9\u5668</h2><p>\u8FD9\u91CC\u4E3B\u8981\u4ECB\u7ECD Docker \u5BB9\u5668\u7684 <code>pause/unpause</code>\u3001<code>stop</code> \u548C <code>prune</code> \u5B50\u547D\u4EE4\u3002</p><h3 id="_1\u3001\u6682\u505C\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u6682\u505C\u5BB9\u5668" aria-hidden="true">#</a> 1\u3001\u6682\u505C\u5BB9\u5668</h3><p>\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] pause CONTAINER [CONTAINER...]</code> \u547D\u4EE4\u6765\u6682\u505C\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\u3002</p><p>\u4F8B\u5982\uFF0C\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\uFF0C\u5E76\u5C06\u5176\u6682\u505C\uFF0C\u5904\u4E8E paused \u72B6\u6001\u7684\u5BB9\u5668\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] unpause CONTAINER [CONTAINER...]</code> \u547D\u4EE4\u6765\u6062\u590D\u5230\u8FD0\u884C\u72B6\u6001\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u65B0\u5EFA\u4E00\u4E2A\u5BB9\u5668\uFF0C\u540D\u5B57\u4E3A test\uFF0C\u67E5\u770B\u5176\u72B6\u6001</span>
$ <span class="token function">docker</span> run --name<span class="token operator">=</span><span class="token string">&quot;test&quot;</span> -it ubuntu <span class="token function">bash</span>
root@c8d20c12cccb:/<span class="token comment"># exit</span>
$ <span class="token function">docker</span> <span class="token function">ps</span> -a
CONTAINER ID   IMAGE     COMMAND   CREATED         STATUS                     PORTS     NAMES
c8d20c12cccb   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">9</span> seconds ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">5</span> seconds ago             <span class="token builtin class-name">test</span>

<span class="token comment"># \u542F\u52A8\u5BB9\u5668</span>
$ <span class="token function">docker</span> start <span class="token builtin class-name">test</span> 
<span class="token builtin class-name">test</span>
$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED          STATUS         PORTS     NAMES
c8d20c12cccb   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">20</span> seconds ago   Up <span class="token number">2</span> seconds             <span class="token builtin class-name">test</span>

<span class="token comment">#\u6682\u505C\u5BB9\u5668</span>
$ <span class="token function">docker</span> pause <span class="token builtin class-name">test</span> 
<span class="token builtin class-name">test</span>
$ <span class="token function">docker</span> <span class="token function">ps</span> 
CONTAINER ID   IMAGE     COMMAND   CREATED          STATUS                   PORTS     NAMES
c8d20c12cccb   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">54</span> seconds ago   Up <span class="token number">36</span> seconds <span class="token punctuation">(</span>Paused<span class="token punctuation">)</span>             <span class="token builtin class-name">test</span>

<span class="token comment">#\u6062\u590D\u6682\u505C\u7684\u5BB9\u5668</span>
$ <span class="token function">docker</span> unpause <span class="token builtin class-name">test</span> 
<span class="token builtin class-name">test</span>
$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED              STATUS          PORTS     NAMES
c8d20c12cccb   ubuntu    <span class="token string">&quot;bash&quot;</span>    About a minute ago   Up <span class="token number">53</span> seconds             <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_2\u3001\u7EC8\u6B62\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u7EC8\u6B62\u5BB9\u5668" aria-hidden="true">#</a> 2\u3001\u7EC8\u6B62\u5BB9\u5668</h3><p>\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] stop</code> \u6765\u7EC8\u6B62\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\u3002\u8BE5\u547D\u4EE4\u7684\u683C\u5F0F\u4E3A <code>docker</code><code>[container] stop [-t|--time[=10]] [CONTAINER...]</code>\u3002</p><p>\u8BE5\u547D\u4EE4\u4F1A\u9996\u5148\u5411\u5BB9\u5668\u53D1\u9001 SIGTERM \u4FE1\u53F7\uFF0C\u7B49\u5F85\u4E00\u6BB5\u8D85\u65F6\u65F6\u95F4\u540E\uFF08\u9ED8\u8BA4\u4E3A 10 \u79D2\uFF09\uFF0C\u518D\u53D1 \u9001 SIGKILL \u4FE1\u53F7\u6765\u7EC8\u6B62\u5BB9\u5668\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> stop <span class="token builtin class-name">test</span> 
<span class="token builtin class-name">test</span>
$ <span class="token function">docker</span> <span class="token function">ps</span> -a
CONTAINER ID   IMAGE     COMMAND   CREATED          STATUS                     PORTS     NAMES
c8d20c12cccb   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">10</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">5</span> seconds ago             <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u6B64\u65F6\uFF0C\u6267\u884C docker container prune \u547D\u4EE4\uFF0C\u4F1A\u81EA\u52A8\u6E05\u9664\u6389\u6240\u6709\u5904\u4E8E\u505C\u6B62\u72B6\u6001\u7684\u5BB9\u5668\u3002\u6B64\u5916\uFF0C\u8FD8\u53EF\u4EE5\u901A\u8FC7 <code>docker [container] kill</code> \u76F4\u63A5\u53D1\u9001 SIGKILL \u4FE1\u53F7\u6765\u5F3A\u884C\u7EC8\u6B62\u5BB9\u5668\u3002</p><p>\u5F53 Docker \u5BB9\u5668\u4E2D\u6307\u5B9A\u7684\u5E94\u7528\u7EC8\u7ED3\u65F6\uFF0C\u5BB9\u5668\u4E5F\u4F1A\u81EA\u52A8\u7EC8\u6B62\u3002\u4F8B\u5982\uFF0C\u5BF9\u4E8E\u524D\u9762\u53EA\u542F\u52A8\u4E86\u4E00\u4E2A\u7EC8\u7AEF\u7684\u5BB9\u5668\uFF0C\u7528\u6237\u901A\u8FC7 <code>exit</code> \u547D\u4EE4\u6216 <kbd>Ctrl</kbd>+<kbd>d</kbd> \u6765\u9000\u51FA\u7EC8\u7AEF\u65F6\uFF0C\u6240\u521B\u5EFA\u7684\u5BB9\u5668\u7ACB\u523B\u7EC8\u6B62\uFF0C\u5904\u4E8E stopped \u72B6\u6001\u3002</p><p>\u53EF\u4EE5\u7528 <code>docker ps -qa</code> \u547D\u4EE4\u770B\u5230\u6240\u6709\u5BB9\u5668\u7684 ID\u3002\u4F8B\u5982\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token function">ps</span> -aq
3c64d4d3197c
08bd1bc56ed2
c8d20c12cccb
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u5904\u4E8E\u7EC8\u6B62\u72B6\u6001\u7684\u5BB9\u5668\uFF0C\u53EF\u4EE5\u901A\u8FC7 <code>docker [container] start</code> \u547D\u4EE4\u6765\u91CD\u65B0\u542F\u52A8\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token function">ps</span> -a
CONTAINER ID   IMAGE           COMMAND       CREATED      STATUS                     PORTS     NAMES
3c64d4d3197c   centos:latest   <span class="token string">&quot;/bin/bash&quot;</span>   <span class="token number">2</span> days ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">2</span> days ago                cool_bell
08bd1bc56ed2   centos:latest   <span class="token string">&quot;bash&quot;</span>        <span class="token number">2</span> days ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">2</span> days ago                gracious_tesla
c8d20c12cccb   ubuntu          <span class="token string">&quot;bash&quot;</span>        <span class="token number">2</span> days ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">8</span> seconds ago             <span class="token builtin class-name">test</span>
$ <span class="token function">docker</span> start c8d20c12cccb
c8d20c12cccb
$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED      STATUS         PORTS     NAMES
c8d20c12cccb   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">2</span> days ago   Up <span class="token number">4</span> seconds             <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>docker [container] restart</code> \u547D\u4EE4\u4F1A\u5C06\u4E00\u4E2A\u8FD0\u884C\u6001\u7684\u5BB9\u5668\u5148\u7EC8\u6B62\uFF0C\u7136\u540E\u518D\u91CD\u65B0\u542F\u52A8\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> restart c8d20c12cccb
c8d20c12cccb
$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED      STATUS         PORTS     NAMES
c8d20c12cccb   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">2</span> days ago   Up <span class="token number">2</span> seconds             <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="\u8FDB\u4EBA\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u4EBA\u5BB9\u5668" aria-hidden="true">#</a> \u8FDB\u4EBA\u5BB9\u5668</h2><p>\u5728\u4F7F\u7528 -d \u53C2\u6570\u65F6\uFF0C\u5BB9\u5668\u542F\u52A8\u540E\u4F1A\u8FDB\u5165\u540E\u53F0\uFF0C\u7528\u6237\u65E0\u6CD5\u770B\u5230\u5BB9\u5668\u4E2D\u7684\u4FE1\u606F\uFF0C\u4E5F\u65E0\u6CD5\u8FDB\u884C\u64CD\u4F5C\u3002 \u8FD9\u4E2A\u65F6\u5019\u5982\u679C\u9700\u8981\u8FDB\u5165\u5BB9\u5668\u8FDB\u884C\u64CD\u4F5C\uFF0C\u63A8\u8350\u4F7F\u7528\u5B98\u65B9\u7684 <code>attach</code> \u6216 <code>exec</code> \u547D\u4EE4\u3002</p><h3 id="_1\u3001attach-\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_1\u3001attach-\u547D\u4EE4" aria-hidden="true">#</a> 1\u3001attach \u547D\u4EE4</h3><p><code>attach</code> \u662F Docker \u81EA\u5E26\u7684\u547D\u4EE4\uFF0C\u547D\u4EE4\u683C\u5F0F\u4E3A\uFF1A</p><p><code>docker [container] attach [--detach-keys[=[]]] \\[--no-stdin] [--sig-proxy[=true]] CONTAINER</code></p><p>\u8FD9\u4E2A\u547D\u4EE4\u652F\u6301\u4E09\u4E2A\u4E3B\u8981\u9009\u9879\uFF1A</p><ul><li>--detach-keys [=[]]\uFF1A\u6307\u5B9A\u9000\u51FA attach \u6A21\u5F0F\u7684\u5FEB\u6377\u952E\u5E8F\u5217\uFF0C\u9ED8\u8BA4\u662F CTRL-p CTRL-q\uFF1B</li><li>--no-stdin=true|false\uFF1A\u662F\u5426\u5173\u95ED\u6807\u51C6\u8F93\u5165\uFF0C\u9ED8\u8BA4\u662F\u4FDD\u6301\u6253\u5F00\uFF1B</li><li>--sig-proxy=true|false\uFF1A\u662F\u5426\u4EE3\u7406\u6536\u5230\u7684\u7CFB\u7EDF\u4FE1\u53F7\u7ED9\u5E94\u7528\u8FDB\u7A0B\uFF0C\u9ED8\u8BA4\u4E3A true\u3002</li></ul><p>\u4E0B\u9762\u793A\u4F8B\u5982\u4F55\u4F7F\u7528\u8BE5\u547D\u4EE4\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> run -itd ubuntu
4be7970cb6b869a4857887036a6ae555f412a8fbe785ff71f027214276f14a1c
$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED         STATUS         PORTS     NAMES
4be7970cb6b8   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">6</span> seconds ago   Up <span class="token number">5</span> seconds             priceless_chandrasekhar
$ <span class="token function">docker</span> attach priceless_chandrasekhar 
root@4be7970cb6b8:/<span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u7136\u800C\u4F7F\u7528 <code>attach</code> \u547D\u4EE4\u6709\u65F6\u5019\u5E76\u4E0D\u65B9\u4FBF\u3002\u5F53\u591A\u4E2A\u7A97\u53E3\u540C\u65F6 <code>attach</code> \u5230\u540C\u4E00\u4E2A\u5BB9\u5668\u7684\u65F6\u5019\uFF0C\u6240\u6709\u7A97\u53E3\u90FD\u4F1A\u540C\u6B65\u663E\u793A\uFF1B\u5F53\u67D0\u4E2A\u7A97\u53E3\u56E0\u547D\u4EE4\u963B\u585E\u65F6\uFF0C\u5176\u4ED6\u7A97\u53E3\u4E5F\u65E0\u6CD5\u6267\u884C\u64CD\u4F5C\u4E86\u3002</p><h3 id="_2\u3001exec-\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_2\u3001exec-\u547D\u4EE4" aria-hidden="true">#</a> 2\u3001exec \u547D\u4EE4</h3><p>\u4ECE Docker \u7684 1.3.0 \u7248\u672C\u8D77\uFF0CDocker \u63D0\u4F9B\u4E86\u4E00\u4E2A\u66F4\u52A0\u65B9\u4FBF\u7684\u5DE5\u5177 <code>exec</code> \u547D\u4EE4\uFF0C\u53EF\u4EE5\u5728\u8FD0\u884C\u4E2D\u5BB9\u5668\u5185\u76F4\u63A5\u6267\u884C\u4EFB\u610F\u547D\u4EE4\u3002</p><p>\u8BE5\u547D\u4EE4\u7684\u57FA\u672C\u683C\u5F0F\u4E3A\uFF1A</p><p><code>docker [container] exec [-d|--detach] [--detach-keys[=[]]] [-i|--interactive] [--privileged] [-t|--tty] [-u|--user[=USER]] CONTAINER COMMAND [ARG...]</code></p><p>\u6BD4\u8F83\u91CD\u8981\u7684\u53C2\u6570\u6709\uFF1A</p><ul><li>-d\uFF0C--detach\uFF1A\u5728\u5BB9\u5668\u4E2D\u540E\u53F0\u6267\u884C\u547D\u4EE4\uFF1B</li><li>--detach-keys=&quot; &quot;\uFF1A\u6307\u5B9A\u5C06\u5BB9\u5668\u5207\u56DE\u540E\u53F0\u7684\u6309\u952E\uFF1B</li><li>-e\uFF0C--env=[]\uFF1A\u6307\u5B9A\u73AF\u5883\u53D8\u91CF\u5217\u8868\uFF1B</li><li>-i\uFF0C--interactive=true|false\uFF1A\u6253\u5F00\u6807\u51C6\u8F93\u5165\u63A5\u53D7\u7528\u6237\u8F93\u5165\u547D\u4EE4\uFF0C\u9ED8\u8BA4\u503C\u4E3A false\uFF1B</li><li>--privileged=true|false\uFF1A\u662F\u5426\u7ED9\u6267\u884C\u547D\u4EE4\u4EE5\u9AD8\u6743\u9650\uFF0C\u9ED8\u8BA4\u503C\u4E3A false\uFF1B</li><li>-t\uFF0C--tty=true|false\uFF1A\u5206\u914D\u4F2A\u7EC8\u7AEF\uFF0C\u9ED8\u8BA4\u503C\u4E3A false\uFF1B</li><li>-u\uFF0C--user=&quot; &quot;\uFF1A\u6267\u884C\u547D\u4EE4\u7684\u7528\u6237\u540D\u6216 ID\u3002</li></ul><p>\u4F8B\u5982\uFF0C\u8FDB\u5165\u5230\u521A\u521B\u5EFA\u7684\u5BB9\u5668\u4E2D\uFF0C\u5E76\u542F\u52A8\u4E00\u4E2A bash\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it 4be7970cb6b8 /bin/bash
root@4be7970cb6b8:/<span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u53EF\u4EE5\u770B\u5230\u4F1A\u6253\u5F00\u4E00\u4E2A\u65B0\u7684 bash \u7EC8\u7AEF\uFF0C\u5728\u4E0D\u5F71\u54CD\u5BB9\u5668\u5185\u5176\u4ED6\u5E94\u7528\u7684\u524D\u63D0\u4E0B\uFF0C\u7528\u6237\u53EF\u4EE5\u4E0E\u5BB9\u5668\u8FDB\u884C\u4EA4\u4E92\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u6CE8\u610F</p><p>\u901A\u8FC7\u6307\u5B9A - it \u53C2\u6570\u6765\u4FDD\u6301\u6807\u51C6\u8F93\u5165\u6253\u5F00\uFF0C\u5E76\u4E14\u5206\u914D\u4E00\u4E2A\u4F2A\u7EC8\u7AEF\u3002\u901A\u8FC7 <code>exec</code> \u547D\u4EE4\u5BF9\u5BB9\u5668\u6267\u884C\u64CD\u4F5C\u662F\u6700\u4E3A\u63A8\u8350\u7684\u65B9\u5F0F\u3002</p></div><p>\u8FDB\u4E00\u6B65\u5730\uFF0C\u53EF\u4EE5\u5728\u5BB9\u5668\u4E2D\u67E5\u770B\u5BB9\u5668\u4E2D\u7684\u7528\u6237\u548C\u8FDB\u7A0B\u4FE1\u606F\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@4be7970cb6b8:/<span class="token comment"># w</span>
 02:45:03 up <span class="token number">34</span> min,  <span class="token number">0</span> users,  load average: <span class="token number">1.39</span>, <span class="token number">0.78</span>, <span class="token number">0.67</span>
<span class="token environment constant">USER</span>     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
root@4be7970cb6b8:/<span class="token comment"># ps -ef</span>
<span class="token environment constant">UID</span>        PID  <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMD
root         <span class="token number">1</span>     <span class="token number">0</span>  <span class="token number">0</span> 02:42 pts/0    00:00:00 <span class="token function">bash</span>
root         <span class="token number">9</span>     <span class="token number">0</span>  <span class="token number">0</span> 02:42 pts/1    00:00:00 /bin/bash
root        <span class="token number">18</span>     <span class="token number">9</span>  <span class="token number">0</span> 02:45 pts/1    00:00:00 <span class="token function">ps</span> -ef
root@4be7970cb6b8:/<span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="\u5220\u9664\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664\u5BB9\u5668" aria-hidden="true">#</a> \u5220\u9664\u5BB9\u5668</h2><p>\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] rm</code> \u547D\u4EE4\u6765\u5220\u9664\u5904\u4E8E\u7EC8\u6B62\u6216\u9000\u51FA\u72B6\u6001\u7684\u5BB9\u5668\uFF0C\u547D\u4EE4\u683C\u5F0F\u4E3A <code>docker</code><code>[container] rm [-f|--force] [-l|--link] [-v|--volumes] CONTAINER [CONTAINER...]</code>\u3002</p><p>\u4E3B\u8981\u652F\u6301\u7684\u9009\u9879\u5305\u62EC\uFF1A</p><ul><li><p>-f\uFF0C--force=false\uFF1A\u662F\u5426\u5F3A\u884C\u7EC8\u6B62\u5E76\u5220\u9664\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\uFF1B</p></li><li><p>-l\uFF0C--link=false\uFF1A\u5220\u9664\u5BB9\u5668\u7684\u8FDE\u63A5\uFF0C\u4F46\u4FDD\u7559\u5BB9\u5668\uFF1B</p></li><li><p>-v\uFF0C--volumes=false\uFF1A\u5220\u9664\u5BB9\u5668\u6302\u8F7D\u7684\u6570\u636E\u5377\u3002</p></li></ul><p>\u4F8B\u5982\uFF0C\u67E5\u770B\u5904\u4E8E\u7EC8\u6B62\u72B6\u6001\u7684\u5BB9\u5668\uFF0C\u5E76\u5220\u9664\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token function">ps</span> -a
CONTAINER ID   IMAGE           COMMAND       CREATED          STATUS                      PORTS     NAMES
4be7970cb6b8   ubuntu          <span class="token string">&quot;bash&quot;</span>        <span class="token number">27</span> minutes ago   Up <span class="token number">13</span> minutes                         priceless_chandrasekhar
3c64d4d3197c   centos:latest   <span class="token string">&quot;/bin/bash&quot;</span>   <span class="token number">2</span> days ago       Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">2</span> days ago                 cool_bell
08bd1bc56ed2   centos:latest   <span class="token string">&quot;bash&quot;</span>        <span class="token number">2</span> days ago       Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">2</span> days ago                 gracious_tesla
c8d20c12cccb   ubuntu          <span class="token string">&quot;bash&quot;</span>        <span class="token number">2</span> days ago       Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">27</span> minutes ago             <span class="token builtin class-name">test</span>
$ <span class="token function">docker</span> <span class="token function">rm</span> 08bd1bc56ed2
08bd1bc56ed2
$ <span class="token function">docker</span> <span class="token function">ps</span> -a
CONTAINER ID   IMAGE           COMMAND       CREATED          STATUS                      PORTS     NAMES
4be7970cb6b8   ubuntu          <span class="token string">&quot;bash&quot;</span>        <span class="token number">28</span> minutes ago   Up <span class="token number">14</span> minutes                         priceless_chandrasekhar
3c64d4d3197c   centos:latest   <span class="token string">&quot;/bin/bash&quot;</span>   <span class="token number">2</span> days ago       Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">2</span> days ago                 cool_bell
c8d20c12cccb   ubuntu          <span class="token string">&quot;bash&quot;</span>        <span class="token number">2</span> days ago       Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">28</span> minutes ago             <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C<code>docker rm</code> \u547D\u4EE4\u53EA\u80FD\u5220\u9664\u5DF2\u7ECF\u5904\u4E8E\u7EC8\u6B62\u6216\u9000\u51FA\u72B6\u6001\u7684\u5BB9\u5668\uFF0C\u5E76\u4E0D\u80FD\u5220\u9664\u8FD8\u5904\u4E8E\u8FD0\u884C\u72B6\u6001\u7684\u5BB9\u5668\u3002</p><p>\u5982\u679C\u8981\u76F4\u63A5\u5220\u9664\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\uFF0C\u53EF\u4EE5\u6DFB\u52A0 -f \u53C2\u6570\u3002Docker \u4F1A\u5148\u53D1\u9001 SIGKILL \u4FE1\u53F7\u7ED9\u5BB9\u5668\uFF0C\u7EC8\u6B62\u5176\u4E2D\u7684\u5E94\u7528\uFF0C\u4E4B\u540E\u5F3A\u884C\u5220\u9664\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED          STATUS         PORTS     NAMES
acca51225fce   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">29</span> seconds ago   Up <span class="token number">3</span> seconds             musing_edison
$ <span class="token function">docker</span> <span class="token function">rm</span> acca51225fce
Error response from daemon: You cannot remove a running container acca51225fce4f1072a7ffd0fdac860e9d93c1bc8c84db6197d71ea292d7ca90. Stop the container before attempting removal or force remove
$ <span class="token function">docker</span> <span class="token function">rm</span> -f acca51225fce
acca51225fce
$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="\u5BFC\u4EBA\u548C\u5BFC\u51FA\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u5BFC\u4EBA\u548C\u5BFC\u51FA\u5BB9\u5668" aria-hidden="true">#</a> \u5BFC\u4EBA\u548C\u5BFC\u51FA\u5BB9\u5668</h2><p>\u67D0\u4E9B\u65F6\u5019\uFF0C\u9700\u8981\u5C06\u5BB9\u5668\u4ECE\u4E00\u4E2A\u7CFB\u7EDF\u8FC1\u79FB\u5230\u53E6\u5916\u4E00\u4E2A\u7CFB\u7EDF\uFF0C\u6B64\u65F6\u53EF\u4EE5\u4F7F\u7528 Docker \u7684\u5BFC\u5165\u548C\u5BFC\u51FA\u529F\u80FD\uFF0C\u8FD9\u4E5F\u662F Docker \u81EA\u8EAB\u63D0\u4F9B\u7684\u4E00\u4E2A\u91CD\u8981\u7279\u6027\u3002</p><h3 id="_1\u3001\u5BFC\u51FA\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u5BFC\u51FA\u5BB9\u5668" aria-hidden="true">#</a> 1\u3001\u5BFC\u51FA\u5BB9\u5668</h3><p>\u5BFC\u51FA\u5BB9\u5668\u662F\u6307\uFF0C\u5BFC\u51FA\u4E00\u4E2A\u5DF2\u7ECF\u521B\u5EFA\u7684\u5BB9\u5668\u5230\u4E00\u4E2A\u6587\u4EF6\uFF0C\u4E0D\u7BA1\u6B64\u65F6\u8FD9\u4E2A\u5BB9\u5668\u662F\u5426\u5904\u4E8E\u8FD0\u884C\u72B6\u6001\u3002\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] export</code> \u547D\u4EE4\uFF0C\u8BE5\u547D\u4EE4\u683C\u5F0F\u4E3A\uFF1A</p><p><code>docker [container] export [-o|--output [ =&quot; &quot;] CONTAINER</code></p><p>\u5176\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7 -o \u9009\u9879\u6765\u6307\u5B9A\u5BFC\u51FA\u7684 tar \u6587\u4EF6\u540D\uFF0C\u4E5F\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7\u91CD\u5B9A\u5411\u6765\u5B9E\u73B0\u3002\u9996\u5148\uFF0C\u67E5\u770B\u6240\u6709\u7684\u5BB9\u5668\uFF0C\u5982\u4E0B\u6240\u793A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ docker ps -a
CONTAINER ID   IMAGE           COMMAND       CREATED      STATUS                   PORTS     NAMES
3c64d4d3197c   centos:latest   &quot;/bin/bash&quot;   2 days ago   Exited (0) 2 days ago              cool_bell
c8d20c12cccb   ubuntu          &quot;bash&quot;        2 days ago   Exited (0) 2 hours ago             test

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u5206\u522B\u5BFC\u51FA 3c64d4d3197c \u5BB9\u5668\u548C c8d20c12cccb \u5BB9\u5668\u5230\u6587\u4EF6 <code>cool_for_centos.tar</code> \u6587\u4EF6\u548C <code>test_for_ubuntu.tar</code> \u6587\u4EF6\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token builtin class-name">export</span> -o cool_for_centos.tar 3c64d4d3197c
$ <span class="token function">ls</span> -l
\u603B\u7528\u91CF <span class="token number">211484</span>
-rw------- <span class="token number">1</span> root root <span class="token number">216525312</span> <span class="token number">9</span>\u6708   <span class="token number">6</span> <span class="token number">12</span>:10 cool_for_centos.tar
$ <span class="token function">docker</span> <span class="token builtin class-name">export</span> c8d20c12cccb <span class="token operator">&gt;</span> test_for_ubuntu.tar
$ <span class="token function">ls</span> -l
\u603B\u7528\u91CF <span class="token number">284884</span>
-rw------- <span class="token number">1</span> root root <span class="token number">216525312</span> <span class="token number">9</span>\u6708   <span class="token number">6</span> <span class="token number">12</span>:10 cool_for_centos.tar
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u4E4B\u540E\uFF0C\u53EF\u5C06\u5BFC\u51FA\u7684 tar \u6587\u4EF6\u4F20\u8F93\u5230\u5176\u4ED6\u673A\u5668\u4E0A\uFF0C\u7136\u540E\u518D\u901A\u8FC7\u5BFC\u4EBA\u547D\u4EE4\u5BFC\u5165\u5230\u7CFB\u7EDF\u4E2D\uFF0C\u5B9E\u73B0\u5BB9\u5668\u7684\u8FC1\u79FB\u3002</p><h3 id="_2\u3001\u5BFC\u5165\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u5BFC\u5165\u5BB9\u5668" aria-hidden="true">#</a> 2\u3001\u5BFC\u5165\u5BB9\u5668</h3><p>\u5BFC\u51FA\u7684\u6587\u4EF6\u53C8\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] import</code> \u547D\u4EE4\u5BFC\u4EBA\u53D8\u6210\u955C\u50CF\uFF0C\u8BE5\u547D\u4EE4\u683C\u5F0F\u4E3A\uFF1A</p><p><code>docker import [-c|--change[=[]]] [-m|--message[=MESSAGE]] file|URL|-[REPOSITORY[:TAG]]</code></p><p>\u7528\u6237\u53EF\u4EE5\u901A\u8FC7 -c\uFF0C--change=[] \u9009\u9879\u5728\u5BFC\u4EBA\u7684\u540C\u65F6\u6267\u884C\u5BF9\u5BB9\u5668\u8FDB\u884C\u4FEE\u6539\u7684 Dockerfile \u6307\u4EE4\uFF08\u53EF\u53C2\u8003\u540E\u7EED\u76F8\u5173\u5185\u5BB9\uFF09\u3002</p><p>\u4E0B\u9762\u5C06\u5BFC\u51FA\u7684 <code>test_for_ubuntu.tar</code> \u6587\u4EF6\u5BFC\u4EBA\u5230\u7CFB\u7EDF\u4E2D\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>r$ <span class="token function">docker</span> <span class="token function">import</span> test_for_ubuntu.tar test/ubuntu:v1.0
sha256:00cf452ac39b9eecff28658850094bac5e345f0ac0f06ff44897873464c7ae00
$ <span class="token function">docker</span> images
REPOSITORY    TAG       IMAGE ID       CREATED         SIZE
test/ubuntu   v1.0      00cf452ac39b   <span class="token number">4</span> seconds ago   <span class="token number">72</span>.8MB
ubuntu        latest    fb52e22af1b0   <span class="token number">6</span> days ago      <span class="token number">72</span>.8MB
ubuntu        <span class="token number">18.04</span>     54919e10a95d   <span class="token number">6</span> days ago      <span class="token number">63</span>.1MB
centos        latest    300e315adb2f   <span class="token number">9</span> months ago    209MB
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u4E4B\u524D\u66FE\u4ECB\u7ECD\u8FC7\u4F7F\u7528 <code>docker load</code> \u547D\u4EE4\u6765\u5BFC\u5165\u4E00\u4E2A\u955C\u50CF\u6587\u4EF6\uFF0C\u4E0E <code>docke [container] import</code> \u547D\u4EE4\u5341\u5206\u7C7B\u4F3C\u3002 \u5B9E\u9645\u4E0A\uFF0C\u65E2\u53EF\u4EE5\u4F7F\u7528 <code>docker load</code> \u547D\u4EE4\u6765\u5BFC\u5165\u955C\u50CF\u5B58\u50A8\u6587\u4EF6\u5230\u672C\u5730\u955C\u50CF\u5E93\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528 <code>docker import</code> \u547D\u4EE4\u6765\u5BFC\u5165\u4E00\u4E2A\u5BB9\u5668\u5FEB\u7167\u5230\u672C\u5730\u955C\u50CF\u5E93\u3002\u8FD9\u4E24\u8005\u7684\u533A\u522B\u5728\u4E8E\uFF1A\u5BB9\u5668\u5FEB\u7167\u6587\u4EF6\u5C06\u4E22\u5F03\u6240\u6709\u7684\u5386\u53F2\u8BB0\u5F55\u548C\u5143\u6570\u636E\u4FE1\u606F\uFF08\u5373\u4EC5\u4FDD\u5B58\u5BB9\u5668\u5F53\u65F6\u7684\u5FEB\u7167\u72B6\u6001\uFF09\uFF0C\u800C\u955C\u50CF\u5B58\u50A8\u6587\u4EF6\u5C06\u4FDD\u5B58\u5B8C\u6574\u8BB0\u5F55\uFF0C\u4F53\u79EF\u66F4\u5927\u3002\u6B64\u5916\uFF0C\u4ECE\u5BB9\u5668\u5FEB\u7167\u6587\u4EF6\u5BFC\u5165\u65F6\u53EF\u4EE5\u91CD\u65B0\u6307\u5B9A\u6807\u7B7E\u7B49\u5143\u6570\u636E\u4FE1\u606F\u3002</p><h2 id="\u67E5\u770B\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668" aria-hidden="true">#</a> \u67E5\u770B\u5BB9\u5668</h2><p>\u4E3B\u8981\u4ECB\u7ECD Docker \u5BB9\u5668\u7684 <code>inspect</code>\u3001<code>top</code> \u548C <code>stats</code> \u5B50\u547D\u4EE4\u3002</p><h3 id="_1\u3001\u67E5\u770B\u5BB9\u5668\u8BE6\u60C5" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u67E5\u770B\u5BB9\u5668\u8BE6\u60C5" aria-hidden="true">#</a> 1\u3001\u67E5\u770B\u5BB9\u5668\u8BE6\u60C5</h3><p>\u67E5\u770B\u5BB9\u5668\u8BE6\u60C5\u53EF\u4EE5\u4F7F\u7528 <code>docker container inspect [OPTIONS] CONTAINER [CONTAINER...]</code>\u5B50\u547D\u4EE4\u3002 \u4F8B\u5982\uFF0C\u67E5\u770B\u67D0\u5BB9\u5668\u7684\u5177\u4F53\u4FE1\u606F\uFF0C\u4F1A\u4EE5 json \u683C\u5F0F\u8FD4\u56DE\u5305\u62EC\u5BB9\u5668 Id\u3001\u521B\u5EFA\u65F6\u95F4\u3001\u8DEF\u5F84\u3001\u72B6\u6001\u3001\u955C\u50CF\u3001\u914D\u7F6E\u7B49\u5728\u5185\u7684\u5404\u9879\u4FE1\u606F\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> container inspect <span class="token builtin class-name">test</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;c8d20c12cccbf317c5f9257b3abe542f98dba3b92b7f72d963427413e5ebf2ad&quot;</span>\uFF0C
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2021-09-03T07:45:47.300705248Z&quot;</span>\uFF0C
        <span class="token string">&quot;Path&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bash&quot;</span>\uFF0C
        <span class="token string">&quot;Args&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\uFF0C
        <span class="token string">&quot;State&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Status&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;exited&quot;</span>\uFF0C
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2\u3001\u67E5\u770B\u5BB9\u5668\u5185\u8FDB\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u67E5\u770B\u5BB9\u5668\u5185\u8FDB\u7A0B" aria-hidden="true">#</a> 2\u3001\u67E5\u770B\u5BB9\u5668\u5185\u8FDB\u7A0B</h3><p>\u67E5\u770B\u5BB9\u5668\u5185\u8FDB\u7A0B\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] top [OPTIONS] CONTAINER [CONTAINER...]</code>\u5B50\u547D\u4EE4\u3002</p><p>\u8FD9\u4E2A\u5B50\u547D\u4EE4\u7C7B\u4F3C\u4E8E Linux \u7CFB\u7EDF\u4E2D\u7684 <code>top</code> \u547D\u4EE4\uFF0C\u4F1A\u6253\u5370\u51FA\u5BB9\u5668\u5185\u7684\u8FDB\u7A0B\u4FE1\u606F\uFF0C\u5305\u62EC PID\u3001\u7528\u6237\u3001\u65F6\u95F4\u3001\u547D\u4EE4\u7B49\u3002\u4F8B\u5982\uFF0C\u67E5\u770B\u67D0\u5BB9\u5668\u5185\u7684\u8FDB\u7A0B\u4FE1\u606F\uFF0C\u547D\u4EE4\u5982\u4E0B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED      STATUS         PORTS     NAMES
c8d20c12cccb   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">2</span> days ago   Up <span class="token number">2</span> seconds             <span class="token builtin class-name">test</span>
kei@kei-KVM:~/docker$ <span class="token function">docker</span> <span class="token function">top</span> <span class="token builtin class-name">test</span> 
<span class="token environment constant">UID</span>                 PID                 <span class="token environment constant">PPID</span>                C                   STIME               TTY                 TIME                CMD
root                <span class="token number">9758</span>                <span class="token number">9723</span>                <span class="token number">0</span>                   <span class="token number">13</span>:18               pts/0               00:00:00            <span class="token function">bash</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3\u3001\u67E5\u770B\u7EDF\u8BA1\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u67E5\u770B\u7EDF\u8BA1\u4FE1\u606F" aria-hidden="true">#</a> 3\u3001\u67E5\u770B\u7EDF\u8BA1\u4FE1\u606F</h3><p>\u67E5\u770B\u7EDF\u8BA1\u4FE1\u606F\u53EF\u4EE5\u4F7F\u7528 <code>docker [container] stats [OPTIONS] [CONTAINER...]</code> \u5B50\u547D\u4EE4\uFF0C\u4F1A\u663E\u793A CPU\u3001\u5185\u5B58\u3001\u5B58\u50A8\u3001\u7F51\u7EDC\u7B49\u4F7F\u7528\u60C5\u51B5\u7684\u7EDF\u8BA1\u4FE1\u606F\u3002</p><p>\u652F\u6301\u9009\u9879\u5305\u62EC\uFF1A</p><ul><li>a\uFF0C-all\uFF1A\u8F93\u51FA\u6240\u6709\u5BB9\u5668\u7EDF\u8BA1\u4FE1\u606F\uFF0C\u9ED8\u8BA4\u4EC5\u5728\u8FD0\u884C\u4E2D\uFF1B</li><li>-format string\uFF1A\u683C\u5F0F\u5316\u8F93\u51FA\u4FE1\u606F\uFF1B</li><li>-no-stream\uFF1A\u4E0D\u6301\u7EED\u8F93\u51FA\uFF0C\u9ED8\u8BA4\u4F1A\u81EA\u52A8\u66F4\u65B0\u6301\u7EED\u5B9E\u65F6\u7ED3\u679C\uFF1B</li><li>-no-trunc\uFF1A\u4E0D\u622A\u65AD\u8F93\u51FA\u4FE1\u606F\u3002</li></ul><p>\u4F8B\u5982\uFF0C\u67E5\u770B\u5F53\u524D\u8FD0\u884C\u4E2D\u5BB9\u5668\u7684\u7CFB\u7EDF\u8D44\u6E90\u4F7F\u7528\u7EDF\u8BA1\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> stats
CONTAINER ID   NAME      CPU %     MEM USAGE / LIMIT     MEM %     NET I/O       BLOCK I/O     PIDS
c8d20c12cccb   <span class="token builtin class-name">test</span>      <span class="token number">0.00</span>%     <span class="token number">2</span>.562MiB / <span class="token number">3</span>.844GiB   <span class="token number">0.07</span>%     <span class="token number">3</span>.51kB / 0B   <span class="token number">1</span>.25MB / 0B   <span class="token number">1</span>
<span class="token comment"># \u53EF\u4F7F\u7528 Ctrl + C \u9000\u51FA</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="\u5176\u4ED6\u5BB9\u5668\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5176\u4ED6\u5BB9\u5668\u547D\u4EE4" aria-hidden="true">#</a> \u5176\u4ED6\u5BB9\u5668\u547D\u4EE4</h2><p>\u4E3B\u8981\u4ECB\u7ECD Docker \u5BB9\u5668\u7684 <code>cp</code>\u3001<code>diff</code>\u3001<code>port</code> \u548C <code>update</code> \u5B50\u547D\u4EE4\u3002</p><h3 id="_1\u3001\u590D\u5236\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u590D\u5236\u6587\u4EF6" aria-hidden="true">#</a> 1\u3001\u590D\u5236\u6587\u4EF6</h3><p><code>container cp</code> \u547D\u4EE4\u652F\u6301\u5728\u5BB9\u5668\u548C\u4E3B\u673A\u4E4B\u95F4\u590D\u5236\u6587\u4EF6\u3002</p><p>\u547D\u4EE4\u683C\u5F0F\u4E3A <code>docker [container] cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|-</code>\u3002\u652F\u6301\u7684\u9009\u9879\u5305\u62EC \uFF1A</p><ul><li>-a\uFF0C-archive\uFF1A\u6253\u5305\u6A21\u5F0F\uFF0C\u590D\u5236\u6587\u4EF6\u4F1A\u5E26\u6709\u539F\u59CB\u7684 uid/gid \u4FE1\u606F\uFF1B</li><li>-L\uFF0C-follow-link\uFF1A\u8DDF\u968F\u8F6F\u8FDE\u63A5\u3002\u5F53\u539F\u8DEF\u5F84\u4E3A\u8F6F\u8FDE\u63A5\u65F6\uFF0C\u9ED8\u8BA4\u53EA\u590D\u5236\u94FE\u63A5\u4FE1\u606F\uFF0C\u4F7F\u7528\u8BE5\u9009\u9879\u4F1A\u590D\u5236\u94FE\u63A5\u7684\u76EE\u6807\u5185\u5BB9\u3002</li></ul><p>\u4F8B\u5982\uFF0C\u5C06\u672C\u5730\u7684\u8DEF\u5F84 data \u590D\u5236\u5230 test \u5BB9\u5668\u7684 /tmp \u8DEF\u5F84\u4E0B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">touch</span> test_file.txt
$ <span class="token function">nano</span> test_file.txt 
$ <span class="token function">cat</span> test_file.txt 
hello world<span class="token operator">!</span>
$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED      STATUS          PORTS     NAMES
c8d20c12cccb   ubuntu    <span class="token string">&quot;bash&quot;</span>    <span class="token number">2</span> days ago   Up <span class="token number">12</span> minutes             <span class="token builtin class-name">test</span>
$ <span class="token function">docker</span> <span class="token function">cp</span> test_file.txt test:/tmp/
$ <span class="token function">docker</span> attach <span class="token builtin class-name">test</span> 
root@c8d20c12cccb:/<span class="token comment"># cd /tmp/ &amp;&amp; ls</span>
test_file.txt
root@c8d20c12cccb:/tmp<span class="token comment"># cat test_file.txt </span>
hello world<span class="token operator">!</span>
root@c8d20c12cccb:/tmp<span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_2\u3001\u67E5\u770B\u53D8\u66F4" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u67E5\u770B\u53D8\u66F4" aria-hidden="true">#</a> 2\u3001\u67E5\u770B\u53D8\u66F4</h3><p><code>container diff</code> \u67E5\u770B\u5BB9\u5668\u5185\u6587\u4EF6\u7CFB\u7EDF\u7684\u53D8\u66F4\u3002</p><p>\u547D\u4EE4\u683C\u5F0F\u4E3A <code>docker [container] diff CONTAINER</code>\u3002\u4F8B\u5982\uFF0C\u67E5\u770B test \u5BB9\u5668\u5185\u7684\u6570\u636E\u4FEE\u6539\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> container <span class="token function">diff</span> <span class="token builtin class-name">test</span> 
C /root
A /root/.bash_history
C /tmp
A /tmp/test_file.txt
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3\u3001\u67E5\u770B\u7AEF\u53E3\u6620\u5C04" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u67E5\u770B\u7AEF\u53E3\u6620\u5C04" aria-hidden="true">#</a> 3\u3001\u67E5\u770B\u7AEF\u53E3\u6620\u5C04</h3><p><code>container port</code> \u547D\u4EE4\u53EF\u4EE5\u67E5\u770B\u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04\u2019\u60C5\u51B5\u3002</p><p>\u547D\u4EE4\u683C\u5F0F\u4E3A <code>docker container port CONTAINER [PRIVATE_PORT[/PROTO]]</code>\u3002\u4F8B\u5982\uFF0C\u67E5\u770B test \u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04\u2019\u60C5\u51B5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> container port <span class="token builtin class-name">test</span>
<span class="token number">9000</span>/tcp -<span class="token operator">&gt;</span> <span class="token number">0.0</span>.0.0:9000
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_4\u3001\u66F4\u65B0\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u66F4\u65B0\u914D\u7F6E" aria-hidden="true">#</a> 4\u3001\u66F4\u65B0\u914D\u7F6E</h3><p><code>container update</code> \u547D\u4EE4\u53EF\u4EE5\u66F4\u65B0\u5BB9\u5668\u7684\u4E00\u4E9B\u8FD0\u884C\u65F6\u914D\u7F6E\uFF0C\u4E3B\u8981\u662F\u4E00\u4E9B\u8D44\u6E90\u9650\u5236\u4EFD\u989D\u3002</p><p>\u547D\u4EE4\u683C\u5F0F\u4E3A <code>docker [container] update [OPTIONS] CONTAINER [CONTAINER...]</code>\u3002</p><p>\u652F\u6301\u7684\u9009\u9879\u5305\u62EC\uFF1A</p><ul><li>blkio-weight uint16\uFF1A\u66F4\u65B0\u5757 IO \u9650\u5236\uFF0C10~1000\uFF0C\u9ED8\u8BA4\u503C\u4E3A 0\uFF0C\u4EE3\u8868\u7740\u65E0\u9650\u5236\uFF1B</li><li>-cpu-period int\uFF1A\u9650\u5236 CPU \u8C03\u5EA6\u5668 CFS\uFF08Completely Fair Scheduler\uFF09\u4F7F\u7528\u65F6\u95F4\uFF0C\u5355\u4F4D\u4E3A\u5FAE\u79D2\uFF0C\u6700\u5C0F 1000\uFF1B</li><li>-cpu-quota int\uFF1A\u9650\u5236 CPU \u8C03\u5EA6\u5668 CFS \u914D\u989D\uFF0C\u5355\u4F4D\u4E3A\u5FAE\u79D2\uFF0C\u6700\u5C0F 1000\uFF1B</li><li>-cpu-rt-period int\uFF1A\u9650\u5236 CPU \u8C03\u5EA6\u5668\u7684\u5B9E\u65F6\u5468\u671F\uFF0C\u5355\u4F4D\u4E3A\u5FAE\u79D2\uFF1B</li><li>-cpu-rt-runtime int\uFF1A\u9650\u5236 CPU \u8C03\u5EA6\u5668\u7684\u5B9E\u65F6\u8FD0\u884C\u65F6\uFF0C\u5355\u4F4D\u4E3A\u5FAE\u79D2\uFF1B</li><li>-c\uFF0C-cpu-shares int\uFF1A\u9650\u5236 CPU \u4F7F\u7528\u4EFD\u989D\uFF1B</li><li>-cpus decimal\uFF1A\u9650\u5236 CPU \u4E2A\u6570\uFF1B</li><li>-cpuset-cpus string\uFF1A\u5141\u8BB8\u4F7F\u7528\u7684 CPU \u6838\uFF0C\u5982 0-3\uFF0C0\uFF0C1\uFF1B</li><li>-cpuset-mems string\uFF1A\u5141\u8BB8\u4F7F\u7528\u7684\u5185\u5B58\u5757\uFF0C\u5982 0-3\uFF0C0\uFF0C1\uFF1B</li><li>-kernel-memory bytes\uFF1A\u9650\u5236\u4F7F\u7528\u7684\u5185\u6838\u5185\u5B58\uFF1B</li><li>-m\uFF0C-memory bytes\uFF1A\u9650\u5236\u4F7F\u7528\u7684\u5185\u5B58\uFF1B</li><li>-memory-reservation bytes\uFF1A\u5185\u5B58\u8F6F\u9650\u5236\uFF1B</li><li>-memory-swap bytes\uFF1A\u5185\u5B58\u52A0\u4E0A\u7F13\u5B58\u533A\u7684\u9650\u5236\uFF0C-1 \u8868\u793A\u4E3A\u5BF9\u7F13\u51B2\u533A\u65E0\u9650\u5236\uFF1B</li><li>-restart string\uFF1A\u5BB9\u5668\u9000\u51FA\u540E\u7684\u91CD\u542F\u7B56\u7565\u3002</li></ul><p>\u4F8B\u5982\uFF0C\u9650\u5236\u603B\u914D\u989D\u4E3A 1 \u79D2\uFF0C\u5BB9\u5668 test \u6240\u5360\u7528\u65F6\u95F4\u4E3A 10% \uFF0C\u4EE3\u7801\u5982\u4E0B\u6240\u793A\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> update --cpu-quota <span class="token number">1000000</span> <span class="token builtin class-name">test</span> 
<span class="token builtin class-name">test</span>
$ <span class="token function">docker</span> update --cpu-period <span class="token number">100000</span> <span class="token builtin class-name">test</span> 
<span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="\u5C0F\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7ED3" aria-hidden="true">#</a> \u5C0F\u7ED3</h2><p>\u5BB9\u5668\u662F\u76F4\u63A5\u63D0\u4F9B\u5E94\u7528\u670D\u52A1\u7684\u7EC4\u4EF6\uFF0C\u4E5F\u662F Docker \u6574\u4E2A\u6280\u672F\u6838\u4E2D\u6700\u4E3A\u6838\u5FC3\u7684\u6982\u5FF5\u3002\u56F4\u7ED5\u5BB9\u5668\uFF0CDocker \u63D0\u4F9B\u4E86\u5341\u5206\u4E30\u5BCC\u7684\u64CD\u4F5C\u547D\u4EE4\uFF0C\u5141\u8BB8\u7528\u6237\u9AD8\u6548\u5730\u7BA1\u7406\u5BB9\u5668\u7684\u6574\u4E2A\u751F\u547D\u5468\u671F\u3002\u4F60\u53EF\u4EE5\u4F7F\u7528 <code>docker container help</code> \u547D\u4EE4\u67E5\u770B Docker \u652F\u6301\u7684\u5BB9\u5668\u64CD\u4F5C\u5B50\u547D\u4EE4\u3002</p>`,164);function t(c,p){return e}var o=n(a,[["render",t]]);export{o as default};
