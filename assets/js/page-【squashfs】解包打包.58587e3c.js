(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{1092:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"查看文件类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看文件类型"}},[s._v("#")]),s._v(" 查看文件类型")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("file")]),s._v(" 命令查看文件的文件类型，以便使用对应的命令工具去执行操作。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("kei@kei-KVM:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# file SYSTEM")]),s._v("\nSYSTEM: Squashfs filesystem, little endian, version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("906421384")]),s._v(" bytes, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17904")]),s._v(" inodes, blocksize: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288")]),s._v(" bytes, created: Fri Jun "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":05:07 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"安装工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装工具"}},[s._v("#")]),s._v(" 安装工具")]),s._v(" "),t("p",[s._v("根据上面查看到的 SYSTEM 文件类型是 Squashfs filesystem，那么需要用到 squashfs-tools 工具命令，直接安装。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("kei@kei-KVM:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" squashfs-tools \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" karin 的密码： \n正在读取软件包列表"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 完成\n正在分析软件包的依赖关系树       \n正在读取状态信息"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 完成       \n下列软件包是自动安装的并且现在不需要了：\n  fonts-liberation2 fonts-opensymbol gir1.2-gst-plugins-base-1.0\n  gir1.2-gstreamer-1.0 gir1.2-gudev-1.0 gir1.2-udisks-2.0\n  grilo-plugins-0.3-base gstreamer1.0-gtk3 libboost-date-time1.65.1\n  libboost-filesystem1.65.1 libboost-iostreams1.65.1 libboost-locale1.65.1\n  libcdr-0.1-1 libclucene-contribs1v5 libclucene-core1v5 libcmis-0.5-5v5\n  libdazzle-1.0-0 libe-book-0.1-1 libedataserverui-1.2-2 libeot0\n  libepubgen-0.1-1 libetonyek-0.1-1 libevent-2.1-6 libexiv2-14\n  libfreerdp-client2-2 libfreerdp2-2 libgee-0.8-2 libgexiv2-2 libgom-1.0-0\n  libgpgmepp6 libgpod-common libgpod4 liblangtag-common liblangtag1\n  liblirc-client0 liblua5.3-0 libmediaart-2.0-0 libmspub-0.1-1 libodfgen-0.1-1\n  libqqwing2v5 librevenge-0.0-0 libsgutils2-2 libssh-4 libvncclient1\n  libwinpr2-2 libxapian30 libxmlsec1 libxmlsec1-nss\n  linux-hwe-5.4-headers-5.4.0-72 lp-solve media-player-info python3-mako\n  python3-markupsafe syslinux syslinux-common syslinux-legacy\n  usb-creator-common\n使用"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sudo apt autoremove'")]),s._v("来卸载它"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("它们"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("。\n下列软件包将被升级：\n  squashfs-tools\n升级了 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 个软件包，新安装了 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 个软件包，要卸载 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 个软件包，有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v(" 个软件包未被升级。\n需要下载 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v(" kB 的归档。\n解压缩后会消耗 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" B 的额外空间。\n获取:1 http://cn.archive.ubuntu.com/ubuntu bionic-updates/main amd64 squashfs-tools amd64 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":4.3-6ubuntu0.18.04.2 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n已下载 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v(" kB，耗时 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("秒 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.9")]),s._v(" kB/s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("      \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("正在读取数据库 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 系统当前共安装有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("190664")]),s._v(" 个文件和目录。"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n正准备解包 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("./squashfs-tools_1%3a4.3-6ubuntu0.18.04.2_amd64.deb  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在将 squashfs-tools "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":4.3-6ubuntu0.18.04.2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 解包到 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":4.3-6ubuntu0.18.04.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 上 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在设置 squashfs-tools "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":4.3-6ubuntu0.18.04.2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在处理用于 man-db "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.8")]),s._v(".3-2ubuntu0.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 的触发器 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nkei@kei-KVM:~$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br")])]),t("h2",{attrs:{id:"unsquashfs-命令解压解包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unsquashfs-命令解压解包"}},[s._v("#")]),s._v(" unsquashfs 命令解压解包")]),s._v(" "),t("p",[s._v("解包打包最好切换到 root 用户操作。用 "),t("code",[s._v("unsquashfs")]),s._v(" 命令解压缩。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换 root 用户")]),s._v("\nkei@kei-KVM:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" -\nroot@kei-KVM:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制上面解压的 SYSTEM 文件到当前位置")]),s._v("\nroot@kei-KVM:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp /home/kei/桌面/SYSTEM .")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unsquashfs 命令解包 SYSTEM 文件")]),s._v("\nroot@kei-KVM:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unsquashfs SYSTEM ")]),s._v("\nParallel unsquashfs: Using "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" processors\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16882")]),s._v(" inodes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19542")]),s._v(" blocks"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19542")]),s._v("/19542 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("%\n\ncreated "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15854")]),s._v(" files\ncreated "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1022")]),s._v(" directories\ncreated "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1028")]),s._v(" symlinks\ncreated "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" devices\ncreated "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" fifos\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压完成后，查看一下，多出一个 squashfs-root 文件夹")]),s._v("\nroot@kei-KVM:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l")]),s._v("\n总用量 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("885196")]),s._v("\ndrwxrwxr-x "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" root root      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 squashfs-root\n-rw-------  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("906424320")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":04 SYSTEM\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("h2",{attrs:{id:"查看与修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看与修改"}},[s._v("#")]),s._v(" 查看与修改")]),s._v(" "),t("p",[s._v("根据需求，适当修改里面的相关文件。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看一下 squashfs-root 目录")]),s._v("\nroot@kei-KVM:~/squashfs-root"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l squashfs-root/")]),s._v("\n总用量 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v("\nlrwxrwxrwx  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 bin -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /usr/bin\ndrwxrwxr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:02 dev\n-rw-rw-r--  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 ee_arch\nlrwxrwxrwx  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 emuelec -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /storage/.config/emuelec\ndrwxrwxr-x "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 etc\ndrwxrwxr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:02 flash\nlrwxrwxrwx  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 lib -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /usr/lib\nlrwxrwxrwx  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 media -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /var/media\nlrwxrwxrwx  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 opt -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /storage/.opt\ndrwxrwxr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:02 proc\ndrwxrwxr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:02 run\nlrwxrwxrwx  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 sbin -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /usr/sbin\ndrwxrwxr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:02 storage\ndrwxrwxr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:02 sys\ndrwxrwxr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:02 tmp\ndrwxrwxr-x "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:03 usr\ndrwxrwxr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:02 var\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[s._v("相关文件所在位置：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("Emuelec 启动脚本："),t("code",[s._v("squashfs-root/usr/bin/emuelecRunEmu.sh")])])]),s._v(" "),t("li",[t("p",[s._v("自启动脚本："),t("code",[s._v("squashfs-root/usr/config/autostart.sh")])])]),s._v(" "),t("li",[t("p",[s._v("修改开机视频："),t("code",[s._v("squashfs-root/usr/bin/show_splash.sh")])])]),s._v(" "),t("li",[t("p",[s._v("修改边框："),t("code",[s._v("squashfs-root/usr/bun/bezels.sh")])])])]),s._v(" "),t("h2",{attrs:{id:"查看原包信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看原包信息"}},[s._v("#")]),s._v(" 查看原包信息")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("unsquashfs -s [filename]")]),s._v(" 命令来查看 squashfs 文件类型的包压缩信息。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看一下原 SYSTEM 文件的 squashfs 压缩信息")]),s._v("\nroot@kei-KVM:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unsquashfs -s SYSTEM ")]),s._v("\nFound a valid SQUASHFS "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":0 superblock on SYSTEM.\nCreation or last append "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" Sat Jun "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 05:05:07 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nFilesystem size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("885177.13")]),s._v(" Kbytes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("864.43")]),s._v(" Mbytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCompression lzo\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#压缩方式：-comp lzo")]),s._v("\n\talgorithm lzo1x_999\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#压缩算法：-Xalgorithm lzo1x_999")]),s._v("\n\tcompression level "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#压缩等级：-Xcompression-level 9")]),s._v("\nBlock size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288")]),s._v("\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#块大小：-b 524288")]),s._v("\nFilesystem is exportable via NFS\nInodes are compressed\nData is compressed\nFragments are compressed\nAlways-use-fragments option is not specified\nXattrs are not stored\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#扩展属性：-no-xattrs")]),s._v("\nDuplicates are removed\nNumber of fragments "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("988")]),s._v("\nNumber of inodes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17904")]),s._v("\nNumber of ids "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以看到压缩方式是 lzo，压缩算法是 lzo1x_999，压缩等级是 9 ，块大小是 524288 ，扩展属性是 not stored 等信息。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h2",{attrs:{id:"mksquashfs-命令压缩打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mksquashfs-命令压缩打包"}},[s._v("#")]),s._v(" mksquashfs 命令压缩打包")]),s._v(" "),t("p",[s._v("最后，使用 "),t("code",[s._v("mksquashfs")]),s._v(" 命令，根据上面查看到的压缩参数信息，对 "),t("code",[s._v("squashfs-root/")]),s._v(" 目录进行压缩打包。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("root@kei-KVM:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mksquashfs squashfs-root/ SYSTEM_changed -comp lzo -Xalgorithm lzo1x_999 -Xcompression-level 9 -b 524288 -no-xattrs")]),s._v("\nParallel mksquashfs: Using "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" processors\nCreating "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),s._v(" filesystem on SYSTEM_changed, block size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288")]),s._v(".\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18514")]),s._v("/18514 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("%\n\nExportable Squashfs "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),s._v(" filesystem, lzo compressed, data block size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288")]),s._v("\n\tcompressed data, compressed metadata, compressed fragments, no xattrs\n\tduplicates are removed\nFilesystem size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("885177.12")]),s._v(" Kbytes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("864.43")]),s._v(" Mbytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("46.45")]),s._v("% of uncompressed filesystem size "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1905511.20")]),s._v(" Kbytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nInode table size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("218226")]),s._v(" bytes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("213.11")]),s._v(" Kbytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("36.69")]),s._v("% of uncompressed inode table size "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("594786")]),s._v(" bytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nDirectory table size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("194409")]),s._v(" bytes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("189.85")]),s._v(" Kbytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.83")]),s._v("% of uncompressed directory table size "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("390171")]),s._v(" bytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nNumber of duplicate files found "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("854")]),s._v("\nNumber of inodes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17904")]),s._v("\nNumber of files "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15854")]),s._v("\nNumber of fragments "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("988")]),s._v("\nNumber of symbolic links  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1028")]),s._v("\nNumber of device nodes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nNumber of fifo nodes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nNumber of socket nodes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nNumber of directories "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1022")]),s._v("\nNumber of ids "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("unique uids + gids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nNumber of uids "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\troot "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nNumber of gids "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\troot "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tunknown "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("81")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("h2",{attrs:{id:"对比原包信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对比原包信息"}},[s._v("#")]),s._v(" 对比原包信息")]),s._v(" "),t("p",[s._v("压缩完成后，"),t("code",[s._v("unsquashfs -s")]),s._v(" 命令再次查看一下新生城的文件信息。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("root@kei-KVM:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unsquashfs -s SYSTEM_changed ")]),s._v("\nFound a valid SQUASHFS "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":0 superblock on SYSTEM_changed.\nCreation or last append "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" Thu Sep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":39:18 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\nFilesystem size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("885177.12")]),s._v(" Kbytes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("864.43")]),s._v(" Mbytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCompression lzo\n\talgorithm lzo1x_999\n\tcompression level "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\nBlock size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288")]),s._v("\nFilesystem is exportable via NFS\nInodes are compressed\nData is compressed\nFragments are compressed\nAlways-use-fragments option is not specified\nXattrs are not stored\nDuplicates are removed\nNumber of fragments "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("988")]),s._v("\nNumber of inodes "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17904")]),s._v("\nNumber of ids "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# file 命令再次查看一下")]),s._v("\nroot@kei-KVM:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# file SYSTEM_changed ")]),s._v("\nSYSTEM_changed: Squashfs filesystem, little endian, version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("906421372")]),s._v(" bytes, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17904")]),s._v(" inodes, blocksize: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288")]),s._v(" bytes, created: Thu Sep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" 06:39:18 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("p",[s._v("和原始的 SYSTEM 比较一下，除了时间和名字，（文件的大小有微小变化，因为修改了文件）其它信息没有任何变化。")]),s._v(" "),t("p",[s._v("以上，就是 squashfs 文件类型的解包和打包的过程。")])])}),[],!1,null,null,null);a.default=e.exports}}]);