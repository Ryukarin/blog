(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1124:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"git-查看提交历史"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-查看提交历史"}},[s._v("#")]),s._v(" Git 查看提交历史")]),s._v(" "),a("p",[s._v("Git 提交历史一般常用两个命令：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("git log")]),s._v("：查看历史提交记录。")]),s._v(" "),a("li",[a("code",[s._v("git blame <file>")]),s._v("：以列表形式查看指定文件的历史修改记录。")])]),s._v(" "),a("h3",{attrs:{id:"git-log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-log"}},[s._v("#")]),s._v(" git log")]),s._v(" "),a("p",[s._v("在使用 Git 提交了若干更新之后，又或者克隆了某个项目，想回顾下提交历史，我们可以使用 "),a("code",[s._v("git log")]),s._v(" 命令查看。")]),s._v(" "),a("p",[s._v("针对我们前一章节的操作，使用 "),a("code",[s._v("git log")]),s._v(" 命令列出历史提交记录如下：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log\ncommit d5e9fc2c811e0ca2b2d28506ef7dc14171a207d9 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HEAD -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nMerge: c68142b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7774248")]),s._v("\nAuthor: runoob "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("test@runoob.com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nDate:   Fri May "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":55:58 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" +0800\n  \n    Merge branch "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'change_site'")]),s._v("\n  \ncommit c68142b562c260c3071754623b08e2657b4c6d5b\nAuthor: runoob "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("test@runoob.com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nDate:   Fri May "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":52:12 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" +0800\n  \n    修改代码\n  \ncommit 777424832e714cf65d3be79b50a4717aea51ab69 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("change_site"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nAuthor: runoob "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("test@runoob.com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nDate:   Fri May "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":49:26 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" +0800\n  \n    changed the runoob.php\n  \ncommit c1501a244676ff55e7cccac1ecac0e18cbf6cb00\nAuthor: runoob "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("test@runoob.com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nDate:   Fri May "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":35:32 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" +0800\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("我们可以用 "),a("strong",[s._v("--oneline")]),s._v(" 选项来查看历史记录的简洁的版本。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --oneline\nd5e9fc2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HEAD -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Merge branch "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'change_site'")]),s._v("\nc68142b 修改代码\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7774248")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("change_site"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" changed the runoob.php\nc1501a2 removed test.txt、add runoob.php\n3e92c19 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" test.txt\n3b58100 第一次版本提交\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("这告诉我们的是，此项目的开发历史。")]),s._v(" "),a("p",[s._v("我们还可以用 "),a("strong",[s._v("--graph")]),s._v(" 选项，查看历史中什么时候出现了分支、合并。以下为相同的命令，开启了拓扑图选项：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --graph\n*   d5e9fc2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HEAD -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Merge branch "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'change_site'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7774248")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("change_site"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" changed the runoob.php\n* "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" c68142b 修改代码\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("/  \n* c1501a2 removed test.txt、add runoob.php\n* 3e92c19 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" test.txt\n* 3b58100 第一次版本提交\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("现在我们可以更清楚明了地看到何时工作分叉、又何时归并。")]),s._v(" "),a("p",[s._v("你也可以用 "),a("strong",[s._v("--reverse")]),s._v(" 参数来逆向显示所有日志。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --reverse --oneline\n3b58100 第一次版本提交\n3e92c19 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" test.txt\nc1501a2 removed test.txt、add runoob.php\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7774248")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("change_site"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" changed the runoob.php\nc68142b 修改代码\nd5e9fc2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HEAD -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Merge branch "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'change_site'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("如果只想查找指定用户的提交日志可以使用命令："),a("code",[s._v("git log --author")]),s._v(" , 例如，比方说我们要找 Git 源码中 Linus 提交的部分：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --author"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Linus --oneline -5\n81b50f3 Move "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'builtin-*'")]),s._v(" into a "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'builtin/'")]),s._v(" subdirectory\n3bb7256 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index-pack"')]),s._v(" a built-in\n377d027 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git pack-redundant"')]),s._v(" a built-in\nb532581 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git unpack-file"')]),s._v(" a built-in\n112dd51 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mktag"')]),s._v(" a built-in\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("如果你要指定日期，可以执行几个选项："),a("strong",[s._v("--since")]),s._v(" 和 "),a("strong",[s._v("--before")]),s._v("，但是你也可以用 "),a("strong",[s._v("--until")]),s._v(" 和 "),a("strong",[s._v("--after")]),s._v("。")]),s._v(" "),a("p",[s._v("例如，如果我要看 Git 项目中三周前且在四月十八日之后的所有提交，我可以执行这个（我还用了 "),a("strong",[s._v("--no-merges")]),s._v(" 选项以隐藏合并提交）：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --oneline --before"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".weeks.ago"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" --after"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2010")]),s._v("-04-18"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" --no-merges\n5469e2d Git "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.7")]),s._v(".1-rc2\nd43427d Documentation/remote-helpers: Fix typos and improve language\n272a36b Fixup: Second argument may be any arbitrary string\nb6c8d2d Documentation/remote-helpers: Add invocation section\n5ce4f4e Documentation/urls: Rewrite to accomodate transport::address\n00b84e9 Documentation/remote-helpers: Rewrite description\n03aa87e Documentation: Describe other situations where -z affects "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v("\n77bc694 rebase-interactive: silence warning when no commits rewritten\n636db2c t3301: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" tests to use --format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%N"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("更多 git log 命令可查看：http://git-scm.com/docs/git-log")]),s._v(" "),a("h3",{attrs:{id:"git-blame"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-blame"}},[s._v("#")]),s._v(" git blame")]),s._v(" "),a("p",[s._v("如果要查看指定文件的修改记录可以使用 "),a("code",[s._v("git blame")]),s._v(" 命令，格式如下：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" blame "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("git blame 命令是以列表形式显示修改记录，如下实例：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" blame README \n^d2097aa "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tianqixin "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-08-25 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":59:25 +0800 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Runoob Git 测试")]),s._v("\ndb9315b0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("runoob    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-08-25 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":00:23 +0800 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 菜鸟教程 ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);