(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1159:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"变量介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#变量介绍"}},[s._v("#")]),s._v(" 变量介绍")]),s._v(" "),n("p",[s._v("在编程中，我们总有一些数据需要临时存放在内存，以待后续使用时快速读出。内存在系统启动的时候被按照1B一个单位划分若干个块，然后统一编号（16 进制编号），并对内存的使用情况做记录，保存在内存跟踪表中。")]),s._v(" "),n("p",[s._v("那么问题来了，1G 内存有多少个 1B 单位呢？")]),s._v(" "),n("blockquote",[n("p",[s._v("计算机的存储容量单位：\n1B = 8bit\n1KB = 1024B\n1MB = 1024KB\n1GB = 1024MB\n1TB = 1024GB\n1PB = 1024TB\n1EB = 1024PB\n1ZB = 1024EB\n. . .")])]),s._v(" "),n("p",[s._v("好了，已经够大了！当然还有 YB、BB 更大的单位，同样进制也是 1024。")]),s._v(" "),n("p",[n("code",[s._v("1G = 1024*1024*1024 = 10737418248B")])]),s._v(" "),n("p",[s._v("假如你将一个 1B 的字符存入内存，如何读出呢？有么有一种大海捞针的感觉阿！我们讨论一下计算机是如何让我们人类快速将数据存在内存，如何从内存中读出数据的。我们研究过变量后就明白了。")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("**变量：是编程中最常用的一种临时在内存中存取数据的一种方式。**\n")])])]),n("div",{staticClass:"custom-block center"},[n("p",[n("img",{attrs:{src:a(987),alt:"变量存储原理图",loading:"lazy"}})]),s._v(" "),n("p",[n("strong",[n("u",[s._v("变量存储原理图")])])])]),s._v(" "),n("p",[s._v("从图片可以看出，当我们在脚本中定义变量存值的时候，可以从以下方面看到变化：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("内存占用：")]),s._v(" "),n("p",[s._v("如果存的是一个字符则占用 1 个字节，如果存的是字符串则是字符串长度再加上 1 个字节长度（\\0 是一个特殊字符，代表字符串的结束）。")])]),s._v(" "),n("li",[n("p",[s._v("变量名也内存的空间关系：")]),s._v(" "),n("p",[s._v("计算机中会将对应的内存空间和变量名称绑定在一起，此时代表这段内存空间已经被程序占用，其他程序不可复用；然后将变量名对应的值存在对应内存地址的空间里。")])])]),s._v(" "),n("p",[s._v('理解变量的存储与读取（STRING1="ABC"）')]),s._v(" "),n("h3",{attrs:{id:"变量存储原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#变量存储原理"}},[s._v("#")]),s._v(" 变量存储原理")]),s._v(" "),n("ol",[n("li",[s._v("STRING1（逻辑地址）<===> 0x5...0x8（物理地址）\t存取数据 ABC\nSTRING1 是逻辑地址，给人看的，方便热记忆；\n0x5...0x8 是内存物理地址，是计算机寻址的依据；")]),s._v(" "),n("li",[s._v("对于人来说 STRING1 上存的数据是 ABC，对于计算机来说数据是存在物理地址上的；")]),s._v(" "),n("li",[s._v("在建立变量的时候，计算机自动将逻辑地址（变量名）和物理地址做了对应绑定。")])]),s._v(" "),n("h3",{attrs:{id:"变量读取原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#变量读取原理"}},[s._v("#")]),s._v(" 变量读取原理")]),s._v(" "),n("p",[s._v("当调用STRING1的时候，计算机会根据对应关系，找到物理地址；\n定位内存地址，读出数据并返回。")]),s._v(" "),n("h2",{attrs:{id:"变量分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#变量分类"}},[s._v("#")]),s._v(" 变量分类")]),s._v(" "),n("ol",[n("li",[s._v("本地变量：用户私有变量，只有本地用户可以使用，保存在家目录下的 "),n("code",[s._v(".bash_profile")]),s._v("、"),n("code",[s._v(".bashrc")]),s._v(" 文件中")]),s._v(" "),n("li",[s._v("全局变量：所有用户都可以使用，保存在 "),n("code",[s._v("/etc/profile")]),s._v("、"),n("code",[s._v("/etc/bashrc")]),s._v(" 文件中")]),s._v(" "),n("li",[s._v("用户自定义变量：用户自定义，比如脚本中的变量")])]),s._v(" "),n("p",[n("strong",[s._v("补充说明：")])]),s._v(" "),n("ol",[n("li",[s._v("计算机启动系统后，全局变量会先加载到内存中；")]),s._v(" "),n("li",[s._v("当用户登录系统成功之后，本地变量会加载到内存中；")]),s._v(" "),n("li",[s._v("打开一个终端或一个脚本，自定义临时变量会在关闭终端或脚本运行结束后，变量会自动从内存中释放。")])]),s._v(" "),n("h2",{attrs:{id:"定义变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定义变量"}},[s._v("#")]),s._v(" 定义变量")]),s._v(" "),n("h3",{attrs:{id:"定义变量-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定义变量-2"}},[s._v("#")]),s._v(" 定义变量")]),s._v(" "),n("p",[s._v("定义变量格式："),n("code",[s._v("变量名=值")])]),s._v(" "),n("p",[s._v("在shell编程中的变量和等号之间不能有空格。")]),s._v(" "),n("p",[s._v("变量名命名规则：")]),s._v(" "),n("ul",[n("li",[s._v("命名只能使用英文字母、数字和下划线，首歌字符不能以数字开头；")]),s._v(" "),n("li",[s._v("中间不能有空格，可以使用下划线（_）;")]),s._v(" "),n("li",[s._v("不能使用标点符号；")]),s._v(" "),n("li",[s._v("不能使用 bash 里的关键字（可以使用 "),n("code",[s._v("help")]),s._v(" 命令查看保留关键字）。")])]),s._v(" "),n("p",[n("strong",[s._v("定义变量演示：")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#变量赋值，此种方法设置为本地变量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linuc ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# name="admin"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linuc ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# var1="hello world!"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linuc ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# age=30")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linuc ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# score=88")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("注意：字符串要用单引号或双引号引起来。")]),s._v(" "),n("h3",{attrs:{id:"读取变量内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#读取变量内容"}},[s._v("#")]),s._v(" 读取变量内容")]),s._v(" "),n("p",[s._v("读取变量内容符："),n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[n("semantics",[n("mrow",[n("mtext",[s._v("读取方法：")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("‘")])],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\n读取方法：`")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"base"},[n("span",{staticClass:"strut",staticStyle:{height:"0.6944em"}}),n("span",{staticClass:"mord cjk_fallback"},[s._v("读取方法：")]),n("span",{staticClass:"mord"},[s._v("‘")])])])]),s._v("变量名`")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#变量内容读取")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo $name")]),s._v("\nadmin\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo $school")]),s._v("\njialidun\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo $age")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo $score")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"取消变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#取消变量"}},[s._v("#")]),s._v(" 取消变量")]),s._v(" "),n("p",[s._v("取消变量命令："),n("code",[s._v("unset")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unset name")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo $name")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("说明：对于本地变量和全剧变量，"),n("code",[s._v("unset")]),s._v(" 只能临时取消，当用户重新登录或重启计算机后，变量就会恢复。")]),s._v(" "),n("h3",{attrs:{id:"定义永久变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定义永久变量"}},[s._v("#")]),s._v(" 定义永久变量")]),s._v(" "),n("ul",[n("li",[s._v("本地变量：用户私有变量，只有本用户可以使用，保存在家目录下的 "),n("code",[s._v(".bash_profile")]),s._v("、"),n("code",[s._v(".bashrc")]),s._v(" 文件中")]),s._v(" "),n("li",[s._v("全局变量：所有用户否可以使用，保存在 "),n("code",[s._v("/etc/profile")]),s._v("、"),n("code",[s._v("/etc/bashrc")]),s._v(" 文件中")])]),s._v(" "),n("p",[n("strong",[s._v("本地变量")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tail -l ~/.bahs_profile")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'admin'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("strong",[s._v("全局变量")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linuc ~ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tail -l /etc/profile")]),s._v("\nexprot "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("age")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("说明")]),s._v(" "),n("p",[s._v("只需要在对应的文件中定义所需要的变量即可，但定义全局变量时，需要在前面加上 export 才可以。")])])])}),[],!1,null,null,null);t.default=e.exports},987:function(s,t,a){s.exports=a.p+"assets/img/var.8e14e909.png"}}]);